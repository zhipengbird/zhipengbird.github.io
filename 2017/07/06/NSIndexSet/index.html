
 <!DOCTYPE HTML>
<html >
<head>
  <meta charset="UTF-8">
  
    <title>NSIndexSet | 志鹏的技术博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="志鹏">
    

    
    <meta name="description" content="The NSIndexSet class represents an immutable collection of unique unsigned integers, known as indexes because of the way they are used. This collection is referred to as an index set. Indexes must be">
<meta name="keywords" content="NSIndexSet">
<meta property="og:type" content="article">
<meta property="og:title" content="NSIndexSet">
<meta property="og:url" content="http://yuanph.org/2017/07/06/NSIndexSet/index.html">
<meta property="og:site_name" content="志鹏的技术博客">
<meta property="og:description" content="The NSIndexSet class represents an immutable collection of unique unsigned integers, known as indexes because of the way they are used. This collection is referred to as an index set. Indexes must be">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-03-31T15:08:14.145Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NSIndexSet">
<meta name="twitter:description" content="The NSIndexSet class represents an immutable collection of unique unsigned integers, known as indexes because of the way they are used. This collection is referred to as an index set. Indexes must be">

    
    <link rel="alternative" href="atom.xml" title="志鹏的技术博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="../../../../css/style.css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="志鹏的技术博客">志鹏的技术博客</a></h1>
				<h2 class="blog-motto">记录成长的点滴</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="Menu">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">简介</a></li>
					
					<li>
 					
						<form class="search" action="/search/index.html" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="text" id="search" class="st-default-search-input" maxlength="20" placeholder="Search" />
						</form>
					
					</li>
				</ul>
			</nav>
</div>

    </header>
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
  
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2017/07/06/NSIndexSet/" title="NSIndexSet" itemprop="url">NSIndexSet</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="志鹏" target="_blank" itemprop="author">志鹏</a>
		
  <p class="article-time">
    <time datetime="2017-07-06T03:13:46.000Z" itemprop="datePublished"> Published 2017-07-06</time>
    <span id="busuanzi_container_page_pv">
    总阅读<span id="busuanzi_value_page_pv"></span>次
</span>
  </p>
</header>
	<div class="article-content">
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">Contents</strong>
		
			<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#创建索引"><span class="toc-number">1.</span> <span class="toc-text">创建索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查询索引"><span class="toc-number">2.</span> <span class="toc-text">查询索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#枚举内容"><span class="toc-number">3.</span> <span class="toc-text">枚举内容</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两集合的比较"><span class="toc-number">4.</span> <span class="toc-text">两集合的比较</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#获取索引"><span class="toc-number">5.</span> <span class="toc-text">获取索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#枚举索引集合"><span class="toc-number">6.</span> <span class="toc-text">枚举索引集合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#可变集合的操作"><span class="toc-number">7.</span> <span class="toc-text">可变集合的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除一个索引集合"><span class="toc-number">7.1.</span> <span class="toc-text">增加／删除一个索引集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除单个索引"><span class="toc-number">7.2.</span> <span class="toc-text">增加／删除单个索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除一个子范围"><span class="toc-number">7.3.</span> <span class="toc-text">增加／删除一个子范围</span></a></li></ol></li></ol>
		
		</div>
		
		<blockquote><p>The NSIndexSet class represents an immutable collection of unique unsigned integers, known as indexes because of the way they are used. This collection is referred to as an index set. Indexes must be in the range 0 .. NSNotFound - 1.</p>
<footer><strong>苹果官方的定义</strong></footer></blockquote>
<p>NSIndexSet (以及它的可修改子类, NSMutableIndexSet) 是一个排好序的，无重复元素的整数集合。它看上去有点像 支持离散整数的 NSRange .它能用于快速查找特定范围的值的索引，也能用于快速计算交集, 同时，Foundation collection class 提供了很多好用的方法，方便你使用 NSIndexSet.</p>
<p>Foundataion framework 里面到处可以看到 NSIndexSet 的影子。 任何从已排序容器(比如 array, 或者 table view 的 data source)里面获取多个元素的方法都会用到 NSIndexSet 做为参数。</p>
<ul>
<li><p>NSIndexSet方法可以划分成以下几部分</p>
<ul>
<li>创建索引</li>
<li>查询索引</li>
<li>枚举索引内容</li>
<li>比较索引</li>
<li>获取子索引</li>
<li>枚举索引</li>
</ul>
</li>
<li><p>NSMutableIndexSet的方法划分：</p>
<ul>
<li>增加／删除一个索引集合</li>
<li>增加／删除单个索引</li>
<li>增加／删除一个子范围</li>
</ul>
</li>
</ul>
<h1 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h1><figure class="highlight objc"><figcaption><span>创建索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个空的索引集合。</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSet;</span><br><span class="line"><span class="comment">//创建一个索引集合，根据索引值</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSetWithIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line"><span class="comment">//创建一个索引集合，根据一个NSRange对象</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSetWithIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个索引集合，根据一个NSRange对象</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndexesInRange:(<span class="built_in">NSRange</span>)range <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line"><span class="comment">//用一个已有集合创建一个新的集合</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndexSet:(<span class="built_in">NSIndexSet</span> *)indexSet <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line"><span class="comment">//根据索引值创建一个索引集合</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<h1 id="查询索引"><a href="#查询索引" class="headerlink" title="查询索引"></a>查询索引</h1><figure class="highlight objc"><figcaption><span>包含索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ndicates whether the index set contains a specific index.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Indicates whether the receiving index set contains a superset of the indexes in another index set.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Indicates whether the index set contains the indexes represented by an index range.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断集合中的索引是否有一个或多个在Range中</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)intersectsIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>block查询</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSUInteger</span>)indexPassingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesPassingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>获取大小</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取索引集合在某一范围中的个数</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>)countOfIndexesInRange:(<span class="built_in">NSRange</span>)range <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_5, <span class="number">2</span>_0);</span><br><span class="line"><span class="comment">//索引集合中元素的个数</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> count;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="枚举内容"><a href="#枚举内容" class="headerlink" title="枚举内容"></a>枚举内容</h1><figure class="highlight objc"><figcaption><span>枚举集合内容</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)enumerateRangesUsingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateRangesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateRangesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br></pre></td></tr></table></figure>
<h1 id="两集合的比较"><a href="#两集合的比较" class="headerlink" title="两集合的比较"></a>两集合的比较</h1><figure class="highlight objc"><figcaption><span>集合的比较</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比较两集合是否相同</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isEqualToIndexSet:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br></pre></td></tr></table></figure>
<h1 id="获取索引"><a href="#获取索引" class="headerlink" title="获取索引"></a>获取索引</h1><figure class="highlight objc"><figcaption><span>获取索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//The following six methods will return NSNotFound if there is no index in the set satisfying the query. </span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> firstIndex;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> lastIndex;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexGreaterThanIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexLessThanIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexGreaterThanOrEqualToIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexLessThanOrEqualToIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>获取索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Fills up to bufferSize indexes in the specified range into the buffer and returns the number of indexes actually placed in the buffer;  </span></span><br><span class="line"><span class="comment">// also modifies the optional range passed in by pointer to be "positioned" after the last index filled into the buffer.  </span></span><br><span class="line"><span class="comment">// Example: if the index set contains the indexes 0, 2, 4, ..., 98, 100, for a buffer of size 10 and the range (20, 80)   </span></span><br><span class="line"><span class="comment">// the buffer would contain 20, 22, ..., 38 and the range would be modified to (40, 60).</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>)getIndexes:(<span class="built_in">NSUInteger</span> *)indexBuffer maxCount:(<span class="built_in">NSUInteger</span>)bufferSize inIndexRange:(<span class="keyword">nullable</span> <span class="built_in">NSRangePointer</span>)range;</span><br></pre></td></tr></table></figure>
<h1 id="枚举索引集合"><a href="#枚举索引集合" class="headerlink" title="枚举索引集合"></a>枚举索引集合</h1><figure class="highlight objc"><figcaption><span>枚举集合</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)enumerateIndexesUsingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateIndexesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateIndexesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br></pre></td></tr></table></figure>
<h1 id="可变集合的操作"><a href="#可变集合的操作" class="headerlink" title="可变集合的操作"></a>可变集合的操作</h1><h2 id="增加／删除一个索引集合"><a href="#增加／删除一个索引集合" class="headerlink" title="增加／删除一个索引集合"></a>增加／删除一个索引集合</h2><figure class="highlight objc"><figcaption><span>增加／删除一个索引集合</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line">- (<span class="keyword">void</span>)removeAllIndexes;</span><br></pre></td></tr></table></figure>
<h2 id="增加／删除单个索引"><a href="#增加／删除单个索引" class="headerlink" title="增加／删除单个索引"></a>增加／删除单个索引</h2><figure class="highlight objc"><figcaption><span>增加／删除单个索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<h2 id="增加／删除一个子范围"><a href="#增加／删除一个子范围" class="headerlink" title="增加／删除一个子范围"></a>增加／删除一个子范围</h2><figure class="highlight objc"><figcaption><span>增加／删除一个子范围</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br></pre></td></tr></table></figure>
  
	</div>
		<footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="../../../../categories/iOS/">iOS</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/NSIndexSet/">NSIndexSet</a>
  </div>

</div>



	<div class="article-share" id="share">
	
	  <div data-url="http://yuanph.org/2017/07/06/NSIndexSet/" data-title="NSIndexSet | 志鹏的技术博客" data-tsina="" class="share clearfix">
	  </div>
	
	</div>


</footer>

   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev" >
 <a href="/2017/07/10/NSMutableArray/" title="监听NSMutableArray的变化">
  <strong>上一篇：</strong><br/>
  <span>
  监听NSMutableArray的变化</span>
</a>
</div>


<div class="next">
<a href="/2017/06/29/Protocol/"  title="Protocol的使用及相关事项">
 <strong>下一篇：</strong><br/> 
 <span>Protocol的使用及相关事项
</span>
</a>
</div>

</nav>

	

<section id="comments" class="comment">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="Show Sidebar"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">Contents</strong>
 
 <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#创建索引"><span class="toc-number">1.</span> <span class="toc-text">创建索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查询索引"><span class="toc-number">2.</span> <span class="toc-text">查询索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#枚举内容"><span class="toc-number">3.</span> <span class="toc-text">枚举内容</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#两集合的比较"><span class="toc-number">4.</span> <span class="toc-text">两集合的比较</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#获取索引"><span class="toc-number">5.</span> <span class="toc-text">获取索引</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#枚举索引集合"><span class="toc-number">6.</span> <span class="toc-text">枚举索引集合</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#可变集合的操作"><span class="toc-number">7.</span> <span class="toc-text">可变集合的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除一个索引集合"><span class="toc-number">7.1.</span> <span class="toc-text">增加／删除一个索引集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除单个索引"><span class="toc-number">7.2.</span> <span class="toc-text">增加／删除单个索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#增加／删除一个子范围"><span class="toc-number">7.3.</span> <span class="toc-text">增加／删除一个子范围</span></a></li></ol></li></ol>
 
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="Hide Sidebar"></a></div>
<aside class="clearfix">

  


  
<div class="categorieslist">
	<p class="asidetitle">Categories</p>
		<ul>
		
		  
			<li><a href="/categories/English/" title="English">English<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/GPUImage/" title="GPUImage">GPUImage<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Git/" title="Git">Git<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/TCP/" title="TCP">TCP<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/XML/" title="XML">XML<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/Xcode8/" title="Xcode8">Xcode8<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/cocoapods/" title="cocoapods">cocoapods<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/git/" title="git">git<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/iOS/" title="iOS">iOS<sup>23</sup></a></li>
		  
		
		  
			<li><a href="/categories/python/" title="python">python<sup>3</sup></a></li>
		  
		
		  
			<li><a href="/categories/xcode-archive/" title="xcode_archive">xcode_archive<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/其他/" title="其他">其他<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/工具/" title="工具">工具<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/数学/" title="数学">数学<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/正则表达式/" title="正则表达式">正则表达式<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/测试/" title="测试">测试<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">Tags</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/iOS/" title="iOS">iOS<sup>9</sup></a></li>
			
		
			
				<li><a href="/tags/English/" title="English">English<sup>7</sup></a></li>
			
		
			
				<li><a href="/tags/XML/" title="XML">XML<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/Appache/" title="Appache">Appache<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/动画/" title="动画">动画<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/tips/" title="tips">tips<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/git/" title="git">git<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/UI/" title="UI">UI<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/CoreWlan/" title="CoreWlan">CoreWlan<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/内存问题/" title="内存问题">内存问题<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/AutoLayout/" title="AutoLayout">AutoLayout<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ARC/" title="ARC">ARC<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/CGRect/" title="CGRect">CGRect<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/Location/" title="Location">Location<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/日期格式/" title="日期格式">日期格式<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/ushow/" title="ushow">ushow<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/GCD/" title="GCD">GCD<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/iOS-GPUImage/" title="iOS-GPUImage">iOS-GPUImage<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/MD5/" title="MD5">MD5<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/NSString/" title="NSString">NSString<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">Links</p>
    <ul>
        
          <li>
            
            	<a href="http://blog.scorplot.com/" target="_blank" title="蛟哥的博客">蛟哥的博客</a>
            
          </li>
        
          <li>
            
            	<a href="http://blog.bomobox.org/" target="_blank" title="贤凯的博客">贤凯的博客</a>
            
          </li>
        
          <li>
            
            	<a href="https://ushareit.github.io/" target="_blank" title="Ushareit">Ushareit</a>
            
          </li>
        
          <li>
            
            	<a href="https://janexzz.github.io" target="_blank" title="许珍珍">许珍珍</a>
            
          </li>
        
    </ul>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m zhipengbird. <br/>
			This is my blog,believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2018
		
		<a href="/about" target="_blank" title="志鹏">志鹏</a>
		
		</br>
		<span id="busuanzi_container_site_pv">
					&nbsp;&nbsp;Total visits:&nbsp;<span id="busuanzi_value_site_pv"></span>
		</span>
		<span id="busuanzi_container_site_uv">
				&nbsp;&nbsp;You are Visiter No.<span id="busuanzi_value_site_uv"></span>
		</span>
	
		
				
		
		</p>
		
		<script type="text/javascript">
(function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
(w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
})(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','VPgYp3Umx_FneUdxKodz','2.0.0');
</script>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
</div>

</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  c.click(function(){
    ta.css('display', 'block').addClass('fadeIn');
  });
  o.click(function(){
    ta.css('display', 'none');
  });
  $(window).scroll(function(){
    ta.css("top",Math.max(140,320-$(this).scrollTop()));
  });
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina'),
      description = $this.attr('description');
  var html = [
  '<div class="hoverqrcode clearfix"></div>',
  '<a class="overlay" id="qrcode"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="微信"></a>',
  '<a href="http://widget.renren.com/dialog/share?resourceUrl=' + encodedUrl + '&srcUrl=' + encodedUrl + '&title=' + title +'" class="article-share-renren" target="_blank" title="人人"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="微博"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);

  $('.hoverqrcode').hide();

  var myWidth = 0;
  function updatehoverqrcode(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
    var qrsize = myWidth > 1024 ? 200:100;
    var options = {render: 'image', size: qrsize, fill: '#2ca6cb', text: url, radius: 0.5, quiet: 1};
    var p = $('.article-share-qrcode').position();
    $('.hoverqrcode').empty().css('width', qrsize).css('height', qrsize)
                          .css('left', p.left-qrsize/2+20).css('top', p.top-qrsize-10)
                          .qrcode(options);
  };
  $(window).resize(function(){
    $('.hoverqrcode').hide();
  });
  $('.article-share-qrcode').click(function(){
    updatehoverqrcode();
    $('.hoverqrcode').toggle();
  });
  $('.article-share-qrcode').hover(function(){}, function(){
      $('.hoverqrcode').hide();
  });
});   
</script>




<script type="text/javascript">

var disqus_shortname = 'yuanpinghua';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>






<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e6d1f421bbc9962127a50488f9ed37d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="Back to Top"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
</html>
