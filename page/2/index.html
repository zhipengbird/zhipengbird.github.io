<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="../../css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="../../atom.xml" title="志鹏的技术博客" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="志鹏的技术博客">
<meta property="og:url" content="http://yuanph.org/page/2/index.html">
<meta property="og:site_name" content="志鹏的技术博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="志鹏的技术博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yuanph.org/page/2/"/>





  <title>志鹏的技术博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?hexo5154a045f583f13e4b93ee8041fa5efc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">志鹏的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">记录成长的点滴</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/07/06/NSIndexSet/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/07/06/NSIndexSet/" itemprop="url">NSIndexSet</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-07-06T11:13:46+08:00">
                2017-07-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote><p>The NSIndexSet class represents an immutable collection of unique unsigned integers, known as indexes because of the way they are used. This collection is referred to as an index set. Indexes must be in the range 0 .. NSNotFound - 1.</p>
<footer><strong>苹果官方的定义</strong></footer></blockquote>
<p>NSIndexSet (以及它的可修改子类, NSMutableIndexSet) 是一个排好序的，无重复元素的整数集合。它看上去有点像 支持离散整数的 NSRange .它能用于快速查找特定范围的值的索引，也能用于快速计算交集, 同时，Foundation collection class 提供了很多好用的方法，方便你使用 NSIndexSet.</p>
<p>Foundataion framework 里面到处可以看到 NSIndexSet 的影子。 任何从已排序容器(比如 array, 或者 table view 的 data source)里面获取多个元素的方法都会用到 NSIndexSet 做为参数。</p>
<ul>
<li><p>NSIndexSet方法可以划分成以下几部分</p>
<ul>
<li>创建索引</li>
<li>查询索引</li>
<li>枚举索引内容</li>
<li>比较索引</li>
<li>获取子索引</li>
<li>枚举索引</li>
</ul>
</li>
<li><p>NSMutableIndexSet的方法划分：</p>
<ul>
<li>增加／删除一个索引集合</li>
<li>增加／删除单个索引</li>
<li>增加／删除一个子范围</li>
</ul>
</li>
</ul>
<h1 id="创建索引"><a href="#创建索引" class="headerlink" title="创建索引"></a>创建索引</h1><figure class="highlight objc"><figcaption><span>创建索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建一个空的索引集合。</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSet;</span><br><span class="line"><span class="comment">//创建一个索引集合，根据索引值</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSetWithIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line"><span class="comment">//创建一个索引集合，根据一个NSRange对象</span></span><br><span class="line">+ (<span class="keyword">instancetype</span>)indexSetWithIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个索引集合，根据一个NSRange对象</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndexesInRange:(<span class="built_in">NSRange</span>)range <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line"><span class="comment">//用一个已有集合创建一个新的集合</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndexSet:(<span class="built_in">NSIndexSet</span> *)indexSet <span class="built_in">NS_DESIGNATED_INITIALIZER</span>;</span><br><span class="line"><span class="comment">//根据索引值创建一个索引集合</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<h1 id="查询索引"><a href="#查询索引" class="headerlink" title="查询索引"></a>查询索引</h1><figure class="highlight objc"><figcaption><span>包含索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ndicates whether the index set contains a specific index.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Indicates whether the receiving index set contains a superset of the indexes in another index set.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Indicates whether the index set contains the indexes represented by an index range.</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)containsIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断集合中的索引是否有一个或多个在Range中</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)intersectsIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>block查询</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSUInteger</span>)indexPassingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesPassingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="built_in">NSIndexSet</span> *)indexesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts passingTest:(<span class="built_in">BOOL</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))predicate <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>获取大小</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取索引集合在某一范围中的个数</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>)countOfIndexesInRange:(<span class="built_in">NSRange</span>)range <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_5, <span class="number">2</span>_0);</span><br><span class="line"><span class="comment">//索引集合中元素的个数</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> count;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="枚举内容"><a href="#枚举内容" class="headerlink" title="枚举内容"></a>枚举内容</h1><figure class="highlight objc"><figcaption><span>枚举集合内容</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)enumerateRangesUsingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateRangesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateRangesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSRange</span> range, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_7, <span class="number">5</span>_0);</span><br></pre></td></tr></table></figure>
<h1 id="两集合的比较"><a href="#两集合的比较" class="headerlink" title="两集合的比较"></a>两集合的比较</h1><figure class="highlight objc"><figcaption><span>集合的比较</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比较两集合是否相同</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isEqualToIndexSet:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br></pre></td></tr></table></figure>
<h1 id="获取索引"><a href="#获取索引" class="headerlink" title="获取索引"></a>获取索引</h1><figure class="highlight objc"><figcaption><span>获取索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//The following six methods will return NSNotFound if there is no index in the set satisfying the query. </span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> firstIndex;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> lastIndex;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexGreaterThanIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexLessThanIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexGreaterThanOrEqualToIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)indexLessThanOrEqualToIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><figcaption><span>获取索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Fills up to bufferSize indexes in the specified range into the buffer and returns the number of indexes actually placed in the buffer;  </span></span><br><span class="line"><span class="comment">// also modifies the optional range passed in by pointer to be "positioned" after the last index filled into the buffer.  </span></span><br><span class="line"><span class="comment">// Example: if the index set contains the indexes 0, 2, 4, ..., 98, 100, for a buffer of size 10 and the range (20, 80)   </span></span><br><span class="line"><span class="comment">// the buffer would contain 20, 22, ..., 38 and the range would be modified to (40, 60).</span></span><br><span class="line">- (<span class="built_in">NSUInteger</span>)getIndexes:(<span class="built_in">NSUInteger</span> *)indexBuffer maxCount:(<span class="built_in">NSUInteger</span>)bufferSize inIndexRange:(<span class="keyword">nullable</span> <span class="built_in">NSRangePointer</span>)range;</span><br></pre></td></tr></table></figure>
<h1 id="枚举索引集合"><a href="#枚举索引集合" class="headerlink" title="枚举索引集合"></a>枚举索引集合</h1><figure class="highlight objc"><figcaption><span>枚举集合</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)enumerateIndexesUsingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateIndexesWithOptions:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br><span class="line">- (<span class="keyword">void</span>)enumerateIndexesInRange:(<span class="built_in">NSRange</span>)range options:(<span class="built_in">NSEnumerationOptions</span>)opts usingBlock:(<span class="keyword">void</span> (<span class="built_in">NS_NOESCAPE</span> ^)(<span class="built_in">NSUInteger</span> idx, <span class="built_in">BOOL</span> *stop))block <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_6, <span class="number">4</span>_0);</span><br></pre></td></tr></table></figure>
<h1 id="可变集合的操作"><a href="#可变集合的操作" class="headerlink" title="可变集合的操作"></a>可变集合的操作</h1><h2 id="增加／删除一个索引集合"><a href="#增加／删除一个索引集合" class="headerlink" title="增加／删除一个索引集合"></a>增加／删除一个索引集合</h2><figure class="highlight objc"><figcaption><span>增加／删除一个索引集合</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndexes:(<span class="built_in">NSIndexSet</span> *)indexSet;</span><br><span class="line">- (<span class="keyword">void</span>)removeAllIndexes;</span><br></pre></td></tr></table></figure>
<h2 id="增加／删除单个索引"><a href="#增加／删除单个索引" class="headerlink" title="增加／删除单个索引"></a>增加／删除单个索引</h2><figure class="highlight objc"><figcaption><span>增加／删除单个索引</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndex:(<span class="built_in">NSUInteger</span>)value;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndex:(<span class="built_in">NSUInteger</span>)value;</span><br></pre></td></tr></table></figure>
<h2 id="增加／删除一个子范围"><a href="#增加／删除一个子范围" class="headerlink" title="增加／删除一个子范围"></a>增加／删除一个子范围</h2><figure class="highlight objc"><figcaption><span>增加／删除一个子范围</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)addIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br><span class="line">- (<span class="keyword">void</span>)removeIndexesInRange:(<span class="built_in">NSRange</span>)range;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/29/Protocol/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/29/Protocol/" itemprop="url">Protocol的使用及相关事项</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-29T11:34:46+08:00">
                2017-06-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在iOS开发中，Protocol是一种经常用到的设计模式，苹果的系统框架中也普遍用到了这种方式，比如UITableView中的<uitableviewdelegate>，以及<nscopying>、<nsobject>这样的协议。我想大家也都自定义过协议，一般都用于回调，或者数据传递. 接下来我们来了解下协议使用及相关事项。</nsobject></nscopying></uitableviewdelegate></p>
<h1 id="什么是协议"><a href="#什么是协议" class="headerlink" title="什么是协议"></a>什么是协议</h1><p>苹果官方给出如下的定义</p>
<blockquote>
<p>A protocol declares a programmatic interface that any class may choose to implement. Protocols make it possible for two classes distantly related by inheritance to communicate with each other to accomplish a certain goal. They thus offer an alternative to subclassing. Any class that can provide behavior useful to other classes may declare a programmatic interface for vending that behavior anonymously. Any other class may choose to adopt the protocol and implement one or more of its methods, thereby making use of the behavior. The class that declares a protocol is expected to call the methods in the protocol if they are implemented by the protocol adopter.<br>   <img src="/2017/06/29/Protocol/protocol_2x.png" title="Protocol"></p>
</blockquote>
<ul>
<li>正式协议与非正式协议<blockquote>
<p>There are two varieties of protocol, formal and informal:</p>
<ul>
<li>A formal protocol declares a list of methods that client classes are expected to implement. Formal protocols have their own declaration, adoption, and type-checking syntax. You can designate methods whose implementation is required or optional with the @required and @optional keywords. Subclasses inherit formal protocols adopted by their ancestors. A formal protocol can also adopt other protocols.<br>Formal protocols are an extension to the Objective-C language.</li>
<li>An informal protocol is a category on NSObject, which implicitly makes almost all objects adopters of the protocol. (A category is a language feature that enables you to add methods to a class without subclassing it.) Implementation of the methods in an informal protocol is optional. Before invoking a method, the calling object checks to see whether the target object implements it. Until optional protocol methods were introduced in Objective-C 2.0, informal protocols were essential to the way Foundation and AppKit classes implemented delegation.</li>
</ul>
</blockquote>
</li>
</ul>
<h1 id="协议的定义"><a href="#协议的定义" class="headerlink" title="协议的定义"></a>协议的定义</h1><ol>
<li><p>协方式的定义</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@protocol</span> <span class="title">Protocolname</span> &lt;<span class="title">NSObject</span>&gt;</span></span><br><span class="line"><span class="keyword">@required</span></span><br><span class="line"><span class="comment">//一系列必选方法</span></span><br><span class="line"><span class="keyword">@optional</span></span><br><span class="line"><span class="comment">//一系列可选方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//属性的声明</span></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>协议里可以定义哪些东西：</p>
<blockquote>
<p>Protocols can include declarations for both instance methods and class methods, as well as properties.</p>
</blockquote>
<p>协议可以定义实例方法，类方法以及属性  </p>
</li>
<li><p>协议的继承  </p>
<blockquote>
<p>In the same way that an Objective-C class can inherit from a superclass, you can also specify that one protocol conforms to another.<br>It’s best practice to define your protocols to conform to the <strong>NSObject</strong> protocol (some of the <strong>NSObject</strong> behavior is split from its class interface into a separate protocol; the <strong>NSObject</strong> class adopts the <strong>NSObject</strong> protocol)</p>
</blockquote>
<p> 协议默认继承 <strong><em>&lt; NSObject &gt;</em></strong> 协议 ,你也可以指定一个其他协议进行继承</p>
</li>
<li><p>协议中定义属性<br> 协议里是支持定义属性的，但这只是定义了getter和setter方法，并没有具体的实现。所以当协议属性修饰符为@required时，如果遵守协议的类不实现这两方法，编译器会报出警告。最简单的方式是加上属性同步语句@synthesize propertyName;</p>
</li>
</ol>
<h1 id="协议的关键字"><a href="#协议的关键字" class="headerlink" title="协议的关键字"></a>协议的关键字</h1><ol>
<li><p>@required</p>
<blockquote>
<p>By default, all methods declared in a protocol are required methods. This means that any class that conforms to the protocol must implement those methods.</p>
</blockquote>
<p> @required修改的协议方法为必要方法，任何遵守该协议的类都必须实现这些方法</p>
</li>
<li><p>@optional</p>
<blockquote>
<p>It’s also possible to specify optional methods in a protocol. These are methods that a class can implement only if it needs to. </p>
</blockquote>
<p> @optional修饰的方法为可选方法，这些方法可以根据类的需要进行实现。</p>
</li>
</ol>
<h1 id="遵守协议"><a href="#遵守协议" class="headerlink" title="遵守协议"></a>遵守协议</h1><ol>
<li><p>设置代理属性</p>
 <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Object</span> : <span class="title">NSObject</span>&lt;<span class="title">Protocolname</span>&gt;</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">weak</span>)<span class="keyword">id</span>&lt;Protocolname&gt;delegate;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>&lt;协议列表&gt;<br>  若需要遵守多个协议，将协议用逗号隔开，并放在尖括号&lt;&gt;中 </li>
<li>添加代理属性<br>  代理属性通常用<strong>weak</strong>修饰，避免强引用</li>
</ul>
</li>
<li>实现协议方法<ul>
<li>@required修饰的协议方法，需要在.m文件中对这些方法进行实现 </li>
<li>@optional修饰的协议方法，可根据需要在.m文件中进行实现    </li>
</ul>
</li>
</ol>
<h1 id="检测对象是否遵守协议"><a href="#检测对象是否遵守协议" class="headerlink" title="检测对象是否遵守协议"></a>检测对象是否遵守协议</h1><ol>
<li><p>检测某对象是否遵守该协议<br>使用 <code>- (BOOL)conformsToProtocol:(Protocol *)aProtocol;</code>进行检测</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[delegate conformsToProtocol:<span class="class"><span class="keyword">@protocol</span>(<span class="title">Protocolname</span>)];</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>检测对象是否实现了某方法<br>使用 <code>- (BOOL)respondsToSelector:(SEL)aSelector;</code>进行检测</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[delegate respondsToSelector:<span class="keyword">@selector</span>(methodname)];</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/27/pip安装使用详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/27/pip安装使用详解/" itemprop="url">pip安装使用详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-27T14:54:34+08:00">
                2017-06-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本节详细介绍pip的安装以及使用方法</p>
<h1 id="pip-下载-安装-更新"><a href="#pip-下载-安装-更新" class="headerlink" title="pip 下载/安装/更新"></a>pip 下载/安装/更新</h1><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul>
<li>从python官网下载 <a href="https://pypi.python.org/pypi/pip" target="_blank" rel="noopener">pip</a></li>
<li>使用工具下载<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget 'https://pypi.python.org/packages/11/b6/abcb<span class="number">525026</span>a4be042b486df<span class="number">4390</span>5d<span class="number">6893</span>fb04f05aac21c32c638e939e447/pip-9.0.1.tar.gz#md5=35f01da<span class="number">3300971949</span>7f01a4ba69d63c9'</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="pip-安装"><a href="#pip-安装" class="headerlink" title="pip 安装"></a>pip 安装</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xzvf</span> <span class="selector-tag">pip-9</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span> # 解压</span><br><span class="line"><span class="selector-tag">cd</span> <span class="selector-tag">pip-9</span><span class="selector-class">.0</span><span class="selector-class">.1</span> # 切换至目录</span><br><span class="line"><span class="selector-tag">sudo</span> <span class="selector-tag">python</span> <span class="selector-tag">setup</span><span class="selector-class">.py</span> <span class="selector-tag">install</span>   # 安装</span><br></pre></td></tr></table></figure>
<h2 id="pip-更新"><a href="#pip-更新" class="headerlink" title="pip 更新"></a>pip 更新</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -U pip</span><br></pre></td></tr></table></figure>
<h1 id="pip-使用详解"><a href="#pip-使用详解" class="headerlink" title="pip 使用详解"></a>pip 使用详解</h1><h2 id="pip-安装包"><a href="#pip-安装包" class="headerlink" title="pip 安装包"></a>pip 安装包</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> packagename</span><br></pre></td></tr></table></figure>
<h2 id="查看已安装的包详情"><a href="#查看已安装的包详情" class="headerlink" title="查看已安装的包详情"></a>查看已安装的包详情</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pip show  packagename</span></span><br></pre></td></tr></table></figure>

<h2 id="pip-列出所有安装的包"><a href="#pip-列出所有安装的包" class="headerlink" title="pip 列出所有安装的包"></a>pip 列出所有安装的包</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="built_in">list</span> <span class="comment">--format=columns</span></span><br></pre></td></tr></table></figure>

<h2 id="pip-升级包"><a href="#pip-升级包" class="headerlink" title="pip 升级包"></a>pip 升级包</h2><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -U  packagename</span><br></pre></td></tr></table></figure>
<h2 id="pip-卸载包"><a href="#pip-卸载包" class="headerlink" title="pip 卸载包"></a>pip 卸载包</h2><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">pip uninstall packagename</span></span><br></pre></td></tr></table></figure>
<h2 id="检查需要更新的包"><a href="#检查需要更新的包" class="headerlink" title="检查需要更新的包"></a>检查需要更新的包</h2><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="built_in">list</span> <span class="comment">--outdate --format=columns</span></span><br></pre></td></tr></table></figure>

<h1 id="pip参数解释"><a href="#pip参数解释" class="headerlink" title="pip参数解释"></a>pip参数解释</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> pip --<span class="keyword">help</span></span><br><span class="line"> </span><br><span class="line">Usage:   </span><br><span class="line">  pip <span class="symbol">&lt;command&gt;</span> [<span class="keyword">options</span>]</span><br><span class="line"> </span><br><span class="line">Command<span class="variable">s:</span></span><br><span class="line">  install                     安装包.</span><br><span class="line">  uninstall                   卸载包.</span><br><span class="line">  freeze                      按着一定格式输出已安装包列表</span><br><span class="line">  <span class="keyword">list</span>                        列出已安装包.</span><br><span class="line">  show                        显示包详细信息.</span><br><span class="line">  <span class="built_in">search</span>                      搜索包，类似yum里的<span class="built_in">search</span>.</span><br><span class="line">  wheel                       Build wheels from your requirements.</span><br><span class="line">  zip                         不推荐. Zip individual packages.</span><br><span class="line">  unzip                       不推荐. Unzip individual packages.</span><br><span class="line">  bundle                      不推荐. Create pybundles.</span><br><span class="line">  <span class="keyword">help</span>                        当前帮助.</span><br><span class="line"> </span><br><span class="line">General Option<span class="variable">s:</span></span><br><span class="line">  -h, --<span class="keyword">help</span>                  显示帮助.</span><br><span class="line">  -v, --<span class="keyword">verbose</span>               更多的输出，最多可以使用<span class="number">3</span>次</span><br><span class="line">  -V, --<span class="keyword">version</span>               现实版本信息然后退出.</span><br><span class="line">  -q, --quiet                 最少的输出.</span><br><span class="line">  --<span class="built_in">log</span>-<span class="keyword">file</span> <span class="symbol">&lt;path&gt;</span>           覆盖的方式记录<span class="keyword">verbose</span>错误日志，默认文件：/root/.pip/pip.<span class="built_in">log</span></span><br><span class="line">  --<span class="built_in">log</span> <span class="symbol">&lt;path&gt;</span>                不覆盖记录<span class="keyword">verbose</span>输出的日志.</span><br><span class="line">  --proxy <span class="symbol">&lt;proxy&gt;</span>             Specify <span class="keyword">a</span> proxy in the form [user:passwd@]proxy.server:port.</span><br><span class="line">  --timeout <span class="symbol">&lt;sec&gt;</span>             连接超时时间 (默认<span class="number">15</span>秒).</span><br><span class="line">  --<span class="built_in">exists</span>-action <span class="symbol">&lt;action&gt;</span>    Default action when <span class="keyword">a</span> path already exist<span class="variable">s:</span> (s)witch, (i)gnore, (<span class="keyword">w</span>)ipe, (<span class="keyword">b</span>)ackup.</span><br><span class="line">  --cert <span class="symbol">&lt;path&gt;</span>               证书.</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/22/真机调试出错问题集/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/22/真机调试出错问题集/" itemprop="url">真机调试出错问题集</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-22T11:59:10+08:00">
                2017-06-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/Xcode8/" itemprop="url" rel="index">
                    <span itemprop="name">Xcode8</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="证书问题"><a href="#证书问题" class="headerlink" title="证书问题"></a>证书问题</h1><ul>
<li>问题：<br>  在真机调试安装过程中出现  <code>process launch failed: failed to get the task for XXXX</code>错误信息 <img src="/2017/06/22/真机调试出错问题集/debug_error.png" title="安装出错信息"></li>
<li>问题原因：<br>  使用的证书不对，  <code>project</code>和<code>targets</code>的 <code>Signing(Debug)</code>证书都必须是开发证书，<code>ADHOC</code>的证书会出现此问题。</li>
<li>解决方法：<br>  <code>project</code>和<code>targets</code>的<code>Signing(Debug)</code>证书使用开发证书</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/13/日期处理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/13/日期处理/" itemprop="url">iOS 日期处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-13T13:39:46+08:00">
                2017-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在开发过程中，我们经常会遇到一些跟时间处理相关的工作，比如说，时间的比较，加减，格式化，NSString &lt;—-&gt; NSDate, NSDate &lt;—&gt; NSCanlendar等等。今天我们来做个整理，理个头绪。方便我们自己记忆。</p>
<h1 id="NSDate-介绍"><a href="#NSDate-介绍" class="headerlink" title="NSDate 介绍"></a>NSDate 介绍</h1><ol>
<li>NSDate对象用来表示一个具体的时间点；</li>
<li>NSDate是一个类簇。我们所使用的NSDate对象，都是NSDate的私有之类的实体；</li>
<li>NSDate储存的是GMT时间，使用的时候会根据当前应用指定的时区进行时间上的增减，以供计算或显示。</li>
</ol>
<h2 id="方法的使用："><a href="#方法的使用：" class="headerlink" title="方法的使用："></a>方法的使用：</h2><ul>
<li>类方法初始化</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回当前时间(获取的是GMT时间,需要获取某个时区的时间，看常用方法)</span></span><br><span class="line">+(<span class="keyword">instancetype</span>)date;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回以当前时间为基准，然后过了secs秒的时间</span></span><br><span class="line">+(<span class="keyword">instancetype</span>)dateWithTimeIntervalSinceNow:(<span class="built_in">NSTimeInterval</span>)secs;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回以2001-01-01 GMT为基准，然后过了secs秒的时间</span></span><br><span class="line">+(<span class="keyword">instancetype</span>)dateWithTimeIntervalSinceReferenceDate:(<span class="built_in">NSTimeInterval</span>)ti;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回以1970-01-01 GMT为基准，然后过了secs秒的时间</span></span><br><span class="line">+(<span class="keyword">instancetype</span>)dateWithTimeIntervalSince1970:(<span class="built_in">NSTimeInterval</span>)secs;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回以date时间为基准，过了secsToBeAdded秒的时间</span></span><br><span class="line">+(<span class="keyword">instancetype</span>)dateWithTimeInterval:(<span class="built_in">NSTimeInterval</span>)secsToBeAdded sinceDate:(<span class="built_in">NSDate</span> *)date;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>实例方法初始化</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化当前时间(获取的是GMT时间,需要获取某个时区的时间，看常用方法)</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)init;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化以当前时间为基准，然后过了secs秒的时间</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithTimeIntervalSinceNow:(<span class="built_in">NSTimeInterval</span>)secs;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化以1970-01-01 GMT为基准，然后过了secs秒的时间</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithTimeIntervalSince1970:(<span class="built_in">NSTimeInterval</span>)secs;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化以date时间为基准，过了secsToBeAdded秒的时间</span></span><br><span class="line">- (<span class="keyword">instancetype</span>)initWithTimeInterval:(<span class="built_in">NSTimeInterval</span>)secsToBeAdded sinceDate:(<span class="built_in">NSDate</span> *)date;</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间之间的比较</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//与anotherDate比较，返回较早的那个日期</span></span><br><span class="line">- (<span class="built_in">NSDate</span> *)earlierDate:(<span class="built_in">NSDate</span> *)anotherDate;</span><br><span class="line"></span><br><span class="line"><span class="comment">//与anotherDate比较，返回较晚的那个日期</span></span><br><span class="line">- (<span class="built_in">NSDate</span> *)laterDate:(<span class="built_in">NSDate</span> *)anotherDate;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*该方法用于排序时调用:</span></span><br><span class="line"><span class="comment">  当实例保存的日期值与anotherDate相同时返回NSOrderedSame</span></span><br><span class="line"><span class="comment">  当实例保存的日期值晚于anotherDate时返回NSOrderedDescending</span></span><br><span class="line"><span class="comment">  当实例保存的日期值早于anotherDate时返回NSOrderedAscending */</span></span><br><span class="line">- (<span class="built_in">NSComparisonResult</span>)compare:(<span class="built_in">NSDate</span> *)other;</span><br><span class="line"></span><br><span class="line"><span class="comment">//与otherDate比较，相同返回YES</span></span><br><span class="line">- (<span class="built_in">BOOL</span>)isEqualToDate:(<span class="built_in">NSDate</span> *)otherDate;</span><br></pre></td></tr></table></figure>
</li>
<li><p>取回时间间隔</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以refDate为基准时间，返回实例保存的时间与refDate的时间间隔</span></span><br><span class="line">- (<span class="built_in">NSTimeInterval</span>)timeIntervalSinceDate:(<span class="built_in">NSDate</span> *)anotherDate;</span><br><span class="line"></span><br><span class="line"><span class="comment">//以当前时间(Now)为基准时间，返回实例保存的时间与当前时间(Now)的时间间隔</span></span><br><span class="line">- (<span class="built_in">NSTimeInterval</span>)timeIntervalSinceNow;</span><br><span class="line"></span><br><span class="line"><span class="comment">//以1970/01/01 GMT为基准时间，返回实例保存的时间与1970/01/01 GMT的时间间隔</span></span><br><span class="line">- (<span class="built_in">NSTimeInterval</span>)timeIntervalSince1970;</span><br><span class="line"></span><br><span class="line"><span class="comment">//以2001/01/01 GMT为基准时间，返回实例保存的时间与2001/01/01 GMT的时间间隔</span></span><br><span class="line">- (<span class="built_in">NSTimeInterval</span>)timeIntervalSinceReferenceDate;</span><br><span class="line">+ (<span class="built_in">NSTimeInterval</span>)timeIntervalSinceReferenceDate;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="时间的创建"><a href="#时间的创建" class="headerlink" title="时间的创建"></a>时间的创建</h1><ul>
<li><p>创建当前时间</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDate</span> * now =  [<span class="built_in">NSDate</span> date];</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据指定的时间差创建时间</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTimeInterval</span> day = <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>;</span><br><span class="line"><span class="built_in">NSDate</span> * yesterday = [<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:-day];</span><br><span class="line"><span class="built_in">NSDate</span>  *tomarror  =[<span class="built_in">NSDate</span> dateWithTimeIntervalSinceNow:day];</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据已有时间创建日期</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTimeInterval</span> day = <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>;</span><br><span class="line"><span class="built_in">NSDate</span> * now =  [<span class="built_in">NSDate</span> date];</span><br><span class="line"><span class="built_in">NSDate</span> * nextDay = [now dateByAddingTimeInterval:day];</span><br><span class="line"><span class="built_in">NSDate</span> * lastDay = [now dateByAddingTimeInterval:-day];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="日期的比较"><a href="#日期的比较" class="headerlink" title="日期的比较"></a>日期的比较</h1><ul>
<li><p>两日期是否相同</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">BOOL</span> isEqual = [nextDay isEqualToDate:lastDay];</span><br></pre></td></tr></table></figure>
</li>
<li><p>比较哪个日期更早</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDate</span> * earlier_date = [nextDay earlierDate:lastDay];</span><br></pre></td></tr></table></figure>
</li>
<li><p>比较哪个日期更晚</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDate</span> * later_date = [nextDay laterDate:lastDay];</span><br></pre></td></tr></table></figure>
</li>
<li><p>求两个时间相同秒数</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTimeInterval</span> time = [nextDay timeIntervalSinceDate:lastDay];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="设置日期格式"><a href="#设置日期格式" class="headerlink" title="设置日期格式"></a>设置日期格式</h1><ul>
<li><p>根据系统预设创建日期格式</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- ( <span class="built_in">NSDateFormatter</span> * )formate&#123;</span><br><span class="line">    <span class="keyword">if</span> (!_formate) &#123;</span><br><span class="line">        _formate = [[<span class="built_in">NSDateFormatter</span> alloc]init];</span><br><span class="line">        [_formate setTimeStyle:<span class="built_in">NSDateFormatterLongStyle</span>];</span><br><span class="line">        [_formate setDateStyle:<span class="built_in">NSDateFormatterLongStyle</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _formate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据格式化字符创建日期格式</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">NSDateFormatter</span>*)formate&#123;</span><br><span class="line">    <span class="keyword">if</span> (!_formate) &#123;</span><br><span class="line">        _formate = [[<span class="built_in">NSDateFormatter</span> alloc]init];</span><br><span class="line">        </span><br><span class="line">        [_formate setDateFormat:<span class="string">@"yyyy/MM/dd HH/mm/ss Z"</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _formate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>ps:这里的formate尽量使用一个懒加载的方式，并持有一个实例，有利用节约创建时间。</p>
</blockquote>
<h1 id="字符串-lt-—-gt-时间"><a href="#字符串-lt-—-gt-时间" class="headerlink" title="字符串&lt;—&gt;时间"></a>字符串&lt;—&gt;时间</h1><ul>
<li><p>字符串转时间</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.时间字符串</span></span><br><span class="line"><span class="built_in">NSString</span> * datestring = <span class="string">@"2017-06-13 14:44:11 +0800"</span>;</span><br><span class="line"><span class="comment">// 2.格式化对象的样式/z大小写都行/格式必须严格和字符串时间一样</span></span><br><span class="line">[<span class="keyword">self</span>.formate setDateFormat:<span class="string">@"yyyy-MM-dd HH:mm:ss Z"</span>];</span><br><span class="line"><span class="comment">// 3.利用时间格式化对象让字符串转换成时间 (自动转换0时区/东加西减)</span></span><br><span class="line"><span class="built_in">NSDate</span> * date = [<span class="keyword">self</span>.formate dateFromString:datestring];</span><br></pre></td></tr></table></figure>
</li>
<li><p>时间转字符串</p>
</li>
</ul>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.创建一个时间对象</span></span><br><span class="line"><span class="built_in">NSDate</span> * date = [<span class="built_in">NSDate</span> date];</span><br><span class="line"><span class="comment">// 2.设置时间格式化对象的样式</span></span><br><span class="line">[<span class="keyword">self</span>.formate setDateFormat:<span class="string">@"yyyy/MM/dd HH:mm:s"</span>];</span><br><span class="line"><span class="comment">// 3.利用时间格式化对象对时间进行格式化</span></span><br><span class="line"><span class="built_in">NSString</span> * datestring = [<span class="keyword">self</span>.formate stringFromDate:date];</span><br></pre></td></tr></table></figure>
<h1 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h1><ul>
<li><p>获取当前时区</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSTimeZone</span> * zone =  [<span class="built_in">NSTimeZone</span> systemTimeZone];</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取时差</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//时区</span></span><br><span class="line"><span class="built_in">NSTimeZone</span> * zone =  [<span class="built_in">NSTimeZone</span> systemTimeZone];</span><br><span class="line"><span class="comment">//时间格式</span></span><br><span class="line"><span class="built_in">NSDate</span> * date = [<span class="built_in">NSDate</span> date];</span><br><span class="line"><span class="comment">//时差</span></span><br><span class="line"><span class="built_in">NSInteger</span> seconds = [zone secondsFromGMTForDate:date];</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="NSCalendar"><a href="#NSCalendar" class="headerlink" title="NSCalendar"></a>NSCalendar</h1><p>NSCalendar：日历。对世界上现存的常用历法进行了封装，即提供了不同的历法的时间信息，又支持日历的计算。</p>
<h1 id="NSDateComponents"><a href="#NSDateComponents" class="headerlink" title="NSDateComponents"></a>NSDateComponents</h1><p>NSDateComponents：时间容器，一个包含了详细的年月日时分秒的容器。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/11/English-Level3-Unit3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/11/English-Level3-Unit3/" itemprop="url">English-Level3-Unit3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-11T16:46:30+08:00">
                2017-06-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="解释你和某个人的相识过程"><a href="#解释你和某个人的相识过程" class="headerlink" title="解释你和某个人的相识过程"></a>解释你和某个人的相识过程</h1><h2 id="过去进行时"><a href="#过去进行时" class="headerlink" title="过去进行时"></a>过去进行时</h2><ul>
<li>使用过去进行时表示过去发生并持续了一段时间的一个动作或事件。用动词 be 的过去时和动词的 + ing 形式构成过去进行时。<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">A: I met Elsa <span class="keyword">in</span> Spain. I was visiting <span class="keyword">my</span> brother <span class="keyword">in</span> Madrid. We were eating tapas, <span class="keyword">and</span> she walked <span class="keyword">into</span> <span class="keyword">the</span> restaurant.	我在西班牙碰见了 Elsa。我当时正在马德里看望我的兄弟。我们正在餐馆吃西班牙塔帕，这时她走了进来。</span><br><span class="line">B: Were you hoping <span class="keyword">to</span> find a girlfriend?	你当时想着找女朋友吗？</span><br><span class="line">A: No, I was just lucky. I really wasn't trying <span class="keyword">to</span> find a girlfriend.	没，我只是走运罢了。我当时真没想着找女朋友。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>注意，过去进行时态常用于介绍或提供故事的背景信息。</strong><br><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">So, <span class="literal">I</span> was driving <span class="keyword">in</span> my car. Then <span class="literal">I</span> saw the accident.	因此，我当时在开车。然后看到了事故的发生。</span><br></pre></td></tr></table></figure></p>
<h2 id="讲故事的惯用方法"><a href="#讲故事的惯用方法" class="headerlink" title="讲故事的惯用方法"></a>讲故事的惯用方法</h2><p>描述过去发生的事情时，使用这些常见的讲故事的惯用方法。</p>
<h3 id="故事背景中的过去进行时"><a href="#故事背景中的过去进行时" class="headerlink" title="故事背景中的过去进行时"></a>故事背景中的过去进行时</h3><p>设定故事背景时，使用过去进行时态<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Let <span class="keyword">me</span> <span class="keyword">tell</span> you <span class="keyword">the</span> story <span class="keyword">about</span> how I met Shane. I was sitting <span class="keyword">in</span> <span class="keyword">the</span> movie theater.</span><br><span class="line">我告诉你我是怎么遇见 Shane 的故事。我坐在电影院里</span><br></pre></td></tr></table></figure></p>
<h3 id="开头和结尾"><a href="#开头和结尾" class="headerlink" title="开头和结尾"></a>开头和结尾</h3><p>你讲的故事应该有头有尾。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">I was sitting in the movie theater. He dropped <span class="keyword">his</span> pizza <span class="keyword">on</span> <span class="keyword">his</span> shoes. I helped him clean <span class="keyword">up</span>, <span class="built_in">and</span> we <span class="keyword">left</span> together.    </span><br><span class="line">我坐在电影院里。他把披萨掉自己鞋上了，我帮他弄干净，然后一起离开了。</span><br></pre></td></tr></table></figure>
<h3 id="眼神交流和手势"><a href="#眼神交流和手势" class="headerlink" title="眼神交流和手势"></a>眼神交流和手势</h3><p>在讲故事时，有效运用肢体语言，可以让故事更加吸引人。开始讲时，注视听众的眼睛，尽量保持眼神交流。你还可以使用手势来帮助说明事情。<br><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">I</span> caught a really big fish.</span><br><span class="line">（伸出双手放在两旁，展示鱼的长度。）</span><br><span class="line"></span><br><span class="line"><span class="literal">I</span> couldn't believe it!</span><br><span class="line">（伸出双手，掌心朝上，表示难以相信。）</span><br><span class="line"></span><br><span class="line">My stomach really hurt.	（把手放在肚子上表示疼痛。）</span><br></pre></td></tr></table></figure></p>
<h2 id="故事事件的排序"><a href="#故事事件的排序" class="headerlink" title="故事事件的排序"></a>故事事件的排序</h2><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">使用类似表达开始故事。</span><br><span class="line"></span><br><span class="line">At first, I didn<span class="comment">'t like him.	起初，我不喜欢他。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">In</span> the beginning, he seemed unfriendly.	刚开始，他看起来不是很友好。</span><br><span class="line"></span><br><span class="line">使用类似表达继续讲述故事。</span><br><span class="line"></span><br><span class="line">Later, we started talking <span class="keyword">in</span> the break room.	后来，我们在休息室开始交谈。</span><br><span class="line"></span><br><span class="line">After that, we had lunch a couple <span class="keyword">of</span> times.	之后，我们一起吃过几次午饭。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Next</span>, we went <span class="keyword">on</span> a <span class="built_in">date</span>.	接下来，我们约会了。</span><br><span class="line"></span><br><span class="line">使用类似表达结束故事。</span><br><span class="line"><span class="keyword">Finally</span>, he asked <span class="keyword">me</span> <span class="keyword">to</span> marry him.	最后，他要我嫁给他。</span><br><span class="line"></span><br><span class="line"><span class="keyword">In</span> the <span class="keyword">end</span>, we got married <span class="keyword">and</span> had three children.	最后，我们结婚，生了三个孩子。</span><br></pre></td></tr></table></figure>
<h1 id="谈论关系"><a href="#谈论关系" class="headerlink" title="谈论关系"></a>谈论关系</h1><h2 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h2><h3 id="个人关系"><a href="#个人关系" class="headerlink" title="个人关系"></a>个人关系</h3><p>有许多描述个人关系的方法。</p>
<ul>
<li>Close friends 是指和你关系非常好的人。</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Mary </span><span class="keyword">and </span>I are very close friends.	 	<span class="keyword">Mary </span>和我是一对密友。</span><br></pre></td></tr></table></figure>
<ul>
<li>Old friends 是指你认识很长时间的人。</li>
</ul>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">John </span><span class="keyword">and </span>I are old friends. I met him <span class="number">20</span> years ago.	 	<span class="keyword">John </span>和我是老朋友。<span class="number">20</span> 年前我们就认识了。</span><br></pre></td></tr></table></figure>
<ul>
<li>Buddy 是表示朋友的非正式用语。注意，该词多为男性使用，指代他们的男性朋友。</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">My buddy Harry <span class="keyword">and</span> I went <span class="keyword">to</span> college together.	 	我和我的哥们 Harry 一起上大学。</span><br></pre></td></tr></table></figure>
<ul>
<li>Relatives 是指你家族中的人，比如 cousins 和 aunts。</li>
</ul>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">For New Yea<span class="string">r's Eve, all of my wife'</span>s relatives are coming over <span class="keyword">for</span> a party.	 </span><br><span class="line">新年前夕，我妻子的全部亲戚都来参加聚会。</span><br></pre></td></tr></table></figure>
<h3 id="职业关系"><a href="#职业关系" class="headerlink" title="职业关系"></a>职业关系</h3><p>有许多描述职业关系的方法。</p>
<ul>
<li>Co-workers 和 colleagues 是指和你共事的人。两个词是同义词，意思相同。</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Sarah</span> <span class="keyword">and </span>I are colleagues.	Sarah 和我是同事。</span><br><span class="line"></span><br><span class="line"><span class="keyword">Martin </span>is a co-worker.	<span class="keyword">Martin </span>是一位同事。</span><br></pre></td></tr></table></figure>
<ul>
<li>boss 和 manager 也表示同一事情，但 boss 正式程度更低。</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Martina <span class="keyword">is</span> <span class="keyword">my</span> boss.	Martina 是我的老板。</span><br><span class="line"></span><br><span class="line">My manager <span class="keyword">is</span> <span class="keyword">on</span> vacation.	我的经理在度假。</span><br></pre></td></tr></table></figure>
<ul>
<li>使用 acquaintance 表示你了解一点的人。这可能是个人关系，也可能是职业关系。</li>
</ul>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Antonio <span class="keyword">is</span> an acquaintance <span class="keyword">of</span> mine. I don<span class="symbol">'t</span> really know him very well.	</span><br><span class="line">Antonio 是我的相识。我不是很了解他。</span><br></pre></td></tr></table></figure>
<ul>
<li>含过去进行时的’While’ 从句</li>
</ul>
<p><strong><em>使用 while + 过去进行时，描述被另一动作中断的一个持续动作(While it was raining)。中断的动作使用一般过去时(the electricity went out)</em></strong></p>
<p>While it was raining, the electricity went out.    下雨的时候停电了。</p>
<p>While we were sleeping, the electricity came back on.    我们睡觉的时候，又有电了。</p>
<p><strong><em>当两个过去持续的动作同时发生，你可以把 while 用在任意一个动作上。</em></strong></p>
<p>While Ken was calling the police, the neighbor’s dog was barking.    当肯在给警方打电话时，邻居的狗在犬叫。</p>
<p>While I was driving, I was putting on my lip gloss.    开车时，我涂上了润唇膏</p>
<p><strong><em>如果 while 从句位于句后，不使用逗号。</em></strong></p>
<p>The electricity came back on while we were sleeping.    我们睡觉时又有电了。</p>
<p>The neighbor’s dog was barking while Ken was calling the police.    肯在给警察打电话时，邻居的狗在犬叫</p>
<p>句子重音</p>
<p>要达到有效的交流，大声说出每个句子里最重要的词以表示强调。注意：terrible 和 accident在句子里是重读的。<br>What a <strong>terrible accident</strong>!</p>
<p>注意句中的ambulance 和fast要重读：<br>The <strong>ambulance</strong> was going too <strong>fast</strong>.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/02/cocoapods系列教程1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/02/cocoapods系列教程1/" itemprop="url">cocoapods系列教程1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-02T10:21:47+08:00">
                2017-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/cocoapods/" itemprop="url" rel="index">
                    <span itemprop="name">cocoapods</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="cocoapods-打包类库"><a href="#cocoapods-打包类库" class="headerlink" title="cocoapods 打包类库"></a>cocoapods 打包类库</h1><p>需要使用一个cocoapods的插件cocoapods-packager来完成类库的打包。当然也可以手动编译打包，但是过程会相当繁琐。</p>
<ul>
<li><p>安装打包插件<br>终端执行以下命令</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods-packager</span><br></pre></td></tr></table></figure>
</li>
<li><p>打包<br>命令很简单，执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod package XXXX.podspec --library --force</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>命令参数<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//强制覆盖之前已经生成过的二进制库 </span><br><span class="line">--force</span><br><span class="line"></span><br><span class="line">//生成静态.framework </span><br><span class="line">--embedded</span><br><span class="line"></span><br><span class="line">//生成静态.a </span><br><span class="line">--library</span><br><span class="line"></span><br><span class="line">//生成动态.framework </span><br><span class="line">--dynamic</span><br><span class="line"></span><br><span class="line">//动态.framework是需要签名的，所以只有生成动态库的时候需要这个BundleId </span><br><span class="line">--bundle-identifier</span><br><span class="line"></span><br><span class="line">//不包含依赖的符号表，生成动态库的时候不能包含这个命令，动态库一定需要包含依赖的符号表。 </span><br><span class="line">--exclude-deps</span><br><span class="line"></span><br><span class="line">//表示生成的库是debug还是release，默认是release。--configuration=Debug </span><br><span class="line">--configuration</span><br></pre></td></tr></table></figure></p>
<p>参考链接<br><a href="https://www.zybuluo.com/qidiandasheng/note/595740" target="_blank" rel="noopener">pod 二进制化</a></p>
<p><a href="https://segmentfault.com/a/1190000007076865" target="_blank" rel="noopener">use_frameworks!</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/06/02/TODOLIST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/06/02/TODOLIST/" itemprop="url">TODOLIST</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-02T10:17:18+08:00">
                2017-06-02
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>GPUImage示例：<br></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/05/22/Python-tips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/05/22/Python-tips/" itemprop="url">Python-tips</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-22T21:08:54+08:00">
                2017-05-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Python-一些实用技巧知识点集合"><a href="#Python-一些实用技巧知识点集合" class="headerlink" title="Python 一些实用技巧知识点集合"></a>Python 一些实用技巧知识点集合</h1><ol>
<li>python中的os.system()和os.popen()区别<br>python调用Shell脚本或者是调用系统命令，有两种方法：os.system(cmd)或os.popen(cmd),前者返回值是脚本的退出状态码，后者的返回值返回一个文件描述符号为fd的打开的文件对象。实际使用时视需求情况而选择。</li>
</ol>
<ol>
<li><p>Python 模块或者包名应该遵守以下的规则:</p>
<ul>
<li>全小写</li>
<li>不要和pypi上已有的包名重复，即使你不想公开发布你的包，因为你的包可能作为其他包的依赖包</li>
<li>使用下划线分隔单词或者什么都不用(不要使用连字符)</li>
</ul>
</li>
<li><p>python 包的上传 <a href="http://setuptools.readthedocs.io/en/latest/setuptools.html" target="_blank" rel="noopener">setuptools</a><br> <code>python setup.py sdist register upload</code></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/05/16/TCP-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/05/16/TCP-1/" itemprop="url">TCP 基础入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-05-16T17:05:23+08:00">
                2017-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/TCP/" itemprop="url" rel="index">
                    <span itemprop="name">TCP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>TCP连接的端点是由一个IP地址和一个端口号来唯一标识的 </li>
<li><p>TCP 是一个可靠的协议，也就是说，除非整个网络出现问题，数据将被完好地按原样正确的传送到另一外一端。这个可靠性是通过以下几个规则来实现的：</p>
<ul>
<li><p>为了防止数据在传输过程中被损坏，每个信息包都包含一个<strong>校验码</strong>。这个校验码就是一个用来保证信息包在传输过程中没有被更改的代码。当信息包到达目的地的时候，接收方会对比校验码和收到的信息中的数据，如果校验码不对，该信息包被省略。</p>
</li>
<li><p>为了防止信息包丢失，TCP会要求接收方每收到一个信息包都反馈一下，如果接收方没有提供反馈，发送方会自动重发一次。由于系统自动处理这个问题，所以程序的开发者根本不用知道问题的出现。TCP会一直试着发送信息包，一直到接收者收到为止，或者它会判断网络连接断了，并在程序中返回一个错误提示。</p>
</li>
<li><p>为了防止信息包重复或顺序列错误，TCP每传送一个信息包都会发送一个序号。接收方会检查这个序号，确保收到该信息包，并把全部信息包按顺序重新合并。同时，如果接收方看到了一个已看过的序号，则该信息包就会被丢弃。</p>
</li>
</ul>
</li>
</ul>
<h2 id="TCP-与-UDP-选择："><a href="#TCP-与-UDP-选择：" class="headerlink" title="TCP 与 UDP 选择："></a>TCP 与 UDP 选择：</h2><ul>
<li><p>用TCP</p>
<ul>
<li>您需要一个可靠的数据传输，以确保您的数据完整无缺地到达目的地</li>
<li>您的协议需要不止一个请求和服务器的回答</li>
<li>您要发送较多的数据</li>
<li>初始连接出现短暂的延迟是可以容忍的</li>
</ul>
</li>
<li><p>用UDP</p>
<ul>
<li>您不太关心数据包是否到达或者不太在意信息包到达的顺序是否正确，再或者您可以自己察觉这些问题并自己解决</li>
<li>您的协议只包括基本请求和回答</li>
<li>您需要尽快建立网络会话</li>
<li>只传送很少部分数据。UDP 的限制是一个信息包不超过64KB的数所据，通常只用UDP传送1KB以下的数据</li>
</ul>
</li>
</ul>
<h1 id="Socket"><a href="#Socket" class="headerlink" title="Socket"></a>Socket</h1><ul>
<li>socket 是操作系统中I／O系统的延伸部分，它可以使用进程和机器之间的通信成为可能。</li>
</ul>
<h2 id="建立Socket"><a href="#建立Socket" class="headerlink" title="建立Socket"></a>建立Socket</h2><ul>
<li><p>客户端建立一个socket需要两个步骤：</p>
<ul>
<li>建立一个实际的socket对象</li>
<li>把它连接到远程服务器上。</li>
</ul>
</li>
<li><p>建立Socket对象时，需要告诉系统两件事：</p>
<ul>
<li>通信类型<ul>
<li>指明用什么协议传输数据 （IPV4,IPV6,IPX／SPX，AFP）</li>
</ul>
</li>
<li>协议家族<ul>
<li>定义数据如何被传输</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>通信类型基本上都是AF_INET(IPv4)<br>  协议家族一般表示：</p>
<ol>
<li>TCP通信的SOCK_STREAM</li>
<li>UDP通信的SOCK_DGRAM</li>
</ol>
</blockquote>
<p>建立一个实际的socket对象:<br><code>s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)</code><br>连接socket，提供一个tupe（远程主机名／IP地址 , 远程端口）<br><code>s.connect((&#39;www.baidu.com&#39;,80))</code></p>
<blockquote>
<p>Ps: C语言的connect()函数需要远程机器的IP地址，在Python中socket对象的connect()函数会根据需要利用DNS把域名自动转换为IP地址，但对端口号则不是这样.</p>
</blockquote>
<h2 id="利用socket通信"><a href="#利用socket通信" class="headerlink" title="利用socket通信"></a>利用socket通信</h2><p>利用socket发送和接收数据，python提供了两种方法：socket对象和文件类对象</p>
<ol>
<li>socket对象<ul>
<li>socket对象提供了操作系统的send(),sendto(),recv(),和recvfrom()调用的接口</li>
<li>使用场景：<ul>
<li>读写数据、需要协议可以详细的控制时、使用二进制传送固定大小数据时、数据超时需要特殊处理时，</li>
<li>任何不止需要简单读写时，编写UDP程序时</li>
</ul>
</li>
</ul>
</li>
<li><p>文件类对象</p>
<ul>
<li>文件类对象提供了read(),write(),readline()接口</li>
<li><p>文件类对象一般用于面向线性的协议，因为它能够通过提供的readline()函数自动为您处理大多数的解析。</p>
<blockquote>
<p>文件类对象一般只对TCP连接工作表现很好，对UDP连接反而不好。原因如下：  </p>
</blockquote>
</li>
</ul>
<ol>
<li>TCP连接的行为更像是标准的文件，它们保证数据接收的精确性，并且和文件一样是以字节流形式运转  </li>
<li>UDP是一种基于信息包的通信。文件类对象没法操作每个基本的信息包，因而建立、接收、发送UDP信息包的基本机制是不能工作的，并且检查也非常困难</li>
</ol>
</li>
</ol>
<h2 id="socket异常"><a href="#socket异常" class="headerlink" title="socket异常"></a>socket异常</h2><p>socket模块实际上定义了4种可能出现的异常：</p>
<ol>
<li>与一般I/O和通信问题有关的socket.error</li>
<li>与查询地址信息有关的socket.gaierror</li>
<li>与其他地址错误有关的socket.herror</li>
<li>与在一个socket上调用settimeout()后，处理超时有关的socket.timeout(需要python2.3或更高版本)</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../../index.html"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../index.html">1</a><span class="page-number current">2</span><a class="page-number" href="../3/">3</a><span class="space">&hellip;</span><a class="page-number" href="../11/">11</a><a class="extend next" rel="next" href="../3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">志鹏</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="../../archives/">
              
                  <span class="site-state-item-count">107</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">志鹏</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="../../js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="../../js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.3"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>
