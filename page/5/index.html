<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="../../css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="../../atom.xml" title="志鹏的技术博客" type="application/atom+xml" />






<meta property="og:type" content="website">
<meta property="og:title" content="志鹏的技术博客">
<meta property="og:url" content="http://yuanph.org/page/5/index.html">
<meta property="og:site_name" content="志鹏的技术博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="志鹏的技术博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yuanph.org/page/5/"/>





  <title>志鹏的技术博客</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?hexo5154a045f583f13e4b93ee8041fa5efc";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">志鹏的技术博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">记录成长的点滴</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/03/08/AutoLayout/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/03/08/AutoLayout/" itemprop="url">AutoLayout</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-08T22:57:09+08:00">
                2017-03-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一.名词解析<br><strong>intrinsicContentSize</strong>：字面意思就是固有的大小。就是说在没有受到约束影响时本来应该有的大小。<br><strong>Content Hugging Priority</strong>：字面意识是内容压缩优先级。就是说阻止view返回的实际尺寸比intrinsicContentSize大的优先级。<br><strong>Content Compression Resistance Priority</strong>：字面意思就是内容抗压缩优先级。就是说阻止View返回的实际尺寸比intrinsicContentSize小的优先级。</p>
<h2 id="intrinsicContentSize-内在内容大小"><a href="#intrinsicContentSize-内在内容大小" class="headerlink" title="intrinsicContentSize 内在内容大小"></a>intrinsicContentSize 内在内容大小</h2><p>使用AutoLayout 时，视图内容的大小通过每个视图的 intrinsicContentSize 属性表达，它描述了在数据未经压缩或剪裁的情况下表达视图全部内容所需的最小空间。该属性源于每个视图所呈现内容的自然属性。</p>
<p>对于图像视图，内在内容大小与其呈现的图像大小相符。图像越大，需要的内容大小也越大。<br>对于按钮，内在内容的大小随着按钮的名称而变化（title）。</p>
<p>通过视图的内在内容大小，Auto Layout将视图框架尽可能地与其自然内容相匹配。无歧义的布局通常需要给每个坐标轴设置两个属性，当视图有一个内在内容大小时，则只需设置两个属性中的一个。</p>
<p>当改变了视图的内在内容时，需要调用 invalidateIntrinsicContentSize 方法，让AutoLayout 知道在下次布局时重新计算。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/03/08/constellation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/03/08/constellation/" itemprop="url">constellation</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-08T10:44:58+08:00">
                2017-03-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSString</span> *) astrology &#123;</span><br><span class="line">    <span class="built_in">NSString</span> *astroString = <span class="string">@"魔羯水瓶双鱼白羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *astroFormat = <span class="string">@"102123444543"</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *result;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">NSDateComponents</span> *components = [[<span class="built_in">NSCalendar</span> currentCalendar] components:<span class="built_in">NSCalendarUnitDay</span> | <span class="built_in">NSCalendarUnitMonth</span> | <span class="built_in">NSCalendarUnitYear</span> fromDate:<span class="keyword">self</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> m = [components month];</span><br><span class="line">    <span class="keyword">long</span> d = [components day];</span><br><span class="line"></span><br><span class="line">    result = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@座"</span>,[astroString substringWithRange:<span class="built_in">NSMakeRange</span>(m * <span class="number">2</span>-(d &lt; [[astroFormat substringWithRange:<span class="built_in">NSMakeRange</span>((m<span class="number">-1</span>), <span class="number">1</span>)] intValue] - (<span class="number">-19</span>)) * <span class="number">2</span>,<span class="number">2</span>)]];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  根据月和日的下标获取星座名</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @param monthIndex 月的下标</span></span><br><span class="line"><span class="comment"> *  @param dayIndex   日的下标</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @return 星座名</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">- (<span class="built_in">NSString</span> *)getConstellationNameByMonthIndex:(<span class="built_in">NSInteger</span>)monthIndex dayIndex:(<span class="built_in">NSInteger</span>)dayIndex &#123;</span><br><span class="line">    <span class="built_in">NSArray</span> *constellations = @[<span class="string">@"水瓶座"</span>, <span class="string">@"双鱼座"</span>, <span class="string">@"白羊座"</span>, <span class="string">@"金牛座"</span>, <span class="string">@"双子座"</span>, <span class="string">@"巨蟹座"</span>, <span class="string">@"狮子座"</span>, <span class="string">@"处女座"</span>, <span class="string">@"天秤座"</span>, <span class="string">@"天蝎座"</span>, <span class="string">@"射手座"</span>, <span class="string">@"摩羯座"</span>];</span><br><span class="line">    <span class="built_in">NSInteger</span> index;</span><br><span class="line">    <span class="built_in">NSArray</span> *conIndexs = @[@(<span class="number">20</span>),@(<span class="number">19</span>),@(<span class="number">21</span>),@(<span class="number">20</span>),@(<span class="number">21</span>),@(<span class="number">22</span>),@(<span class="number">23</span>),@(<span class="number">23</span>),@(<span class="number">23</span>),@(<span class="number">24</span>),@(<span class="number">23</span>),@(<span class="number">22</span>)];</span><br><span class="line">    <span class="keyword">if</span> ([[conIndexs objectAtIndex:monthIndex] integerValue] &lt;= dayIndex + <span class="number">1</span>) &#123;</span><br><span class="line">        index = monthIndex;</span><br><span class="line">    &#125; <span class="keyword">else</span> index = (monthIndex - <span class="number">1</span> + <span class="number">12</span>) % <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">return</span> [constellations objectAtIndex:index];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/03/07/pod-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/03/07/pod-command/" itemprop="url">pod command</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-07T19:50:46+08:00">
                2017-03-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/cocoapods/" itemprop="url" rel="index">
                    <span itemprop="name">cocoapods</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h1 id="pod-基础使用命令"><a href="#pod-基础使用命令" class="headerlink" title="pod 基础使用命令"></a>pod 基础使用命令</h1><ol>
<li><p>创建Podfile文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod init</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用命令打开Podfile文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -a Xcode Podfile</span><br></pre></td></tr></table></figure>
</li>
<li><p>搜索pod 库</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod search 库名</span><br></pre></td></tr></table></figure>
</li>
<li><p>更新本地Repo库</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod repo update</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装pod 库</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br><span class="line">pod install --verbose --no-repo-update</span><br></pre></td></tr></table></figure>
</li>
<li><p>升级pod 库</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pod update</span><br><span class="line">pod upadte --verbose --no-repo-update</span><br></pre></td></tr></table></figure>
</li>
</ol>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="../../2017/03/07/pod-command/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/02/28/函数式编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/02/28/函数式编程/" itemprop="url">函数式编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-28T15:58:38+08:00">
                2017-02-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p><strong>函数式编程思想</strong>： 把操作尽量写成一系例嵌套的函数或者方法调用。</p>
<p><strong>函数式编程本质</strong>： 就是往方法中传入Block,方法中嵌套Block调用，把代码聚合起来管理</p>
<p><strong>函数式编程特点</strong>： 每个方法必须有返回值（本身对象）,把函数或者Block当做参数,block参数（需要操作的值）block返回值（操作结果）</p>
<h2 id="代表：ReactiveCocoa。"><a href="#代表：ReactiveCocoa。" class="headerlink" title="代表：ReactiveCocoa。"></a><strong>代表</strong>：ReactiveCocoa。</h2><p><strong>链式编程思想</strong>：是将多个操作（多行代码）通过点号(.)链接在一起成为一句代码,使代码可读性好。a(1).b(2).c(3)</p>
<p><strong>链式编程特点</strong>：方法的返回值是block,block必须有返回值（本身对象），block参数（需要操作的值）</p>
<h2 id="代表：Masonry框架。"><a href="#代表：Masonry框架。" class="headerlink" title="代表：Masonry框架。"></a><strong>代表</strong>：Masonry框架。</h2><p>##ReactiveCocoa常见类</p>
<blockquote>
<p>学习框架首要之处:个人认为先要搞清楚框架中常用的类，在RAC中最核心的类<code>RACSiganl</code>,搞定这个类就能用ReactiveCocoa开发了。</p>
</blockquote>
<ol>
<li><code>RACSiganl</code>:信号类,一般表示将来有数据传递，只要有数据改变，信号内部接收到数据，就会马上发出数据。</li>
</ol>
<blockquote>
<p>注意：</p>
<ol>
<li><p>信号类(<code>RACSiganl</code>)，只是表示当数据改变时，信号内部会发出数据，它本身不具备发送信号的能力，而是交给内部一个订阅者去发出。</p>
</li>
<li><p>默认一个信号都是冷信号，也就是值改变了，也不会触发，只有订阅了这个信号，这个信号才会变为热信号，值改变了才会触发。</p>
</li>
<li><p>如何订阅信号：调用信号<code>RACSignal</code>的<code>subscribeNext</code>就能订阅</p>
</li>
</ol>
</blockquote>
<ol>
<li><p><code>RACSubscriber</code>:表示订阅者的意思，用于发送信号，这是一个协议，不是一个类，只要遵守这个协议，并且实现方法才能成为订阅者。通过create创建的信号，都有一个订阅者，帮助他发送数据。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)createSimpleSignal&#123;</span><br><span class="line">  <span class="comment">// RACSignal使用步骤：</span></span><br><span class="line">  <span class="comment">// 1.创建信号 + (RACSignal * )createSignal:(RACDisposable * (^)(id&lt;RACSubscriber&gt; subscriber))didSubscribe</span></span><br><span class="line">  <span class="comment">// 2.订阅信号,才会激活信号. - (RACDisposable * )subscribeNext:(void (^)(id x))nextBlock</span></span><br><span class="line">  <span class="comment">// 3.发送信号 - (void)sendNext:(id)value</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// RACSignal底层实现：</span></span><br><span class="line">  <span class="comment">// 1.创建信号，首先把didSubscribe保存到信号中，还不会触发。</span></span><br><span class="line">  <span class="comment">// 2.当信号被订阅，也就是调用signal的subscribeNext:nextBlock</span></span><br><span class="line">  <span class="comment">// 2.2 subscribeNext内部会创建订阅者subscriber，并且把nextBlock保存到subscriber中。</span></span><br><span class="line">  <span class="comment">// 2.1 subscribeNext内部会调用siganl的didSubscribe</span></span><br><span class="line">  <span class="comment">// 3.siganl的didSubscribe中调用[subscriber sendNext:@1];</span></span><br><span class="line">  <span class="comment">// 3.1 sendNext底层其实就是执行subscriber的nextBlock</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//    1.创建信息</span></span><br><span class="line">  RACSignal * signal =  [RACSignal createSignal:^RACDisposable * _Nullable(<span class="keyword">id</span>&lt;RACSubscriber&gt;   subscriber) &#123;</span><br><span class="line">    <span class="comment">// block调用时刻：每当有订阅者订阅信号，就会调用block。</span></span><br><span class="line">    <span class="comment">//        2.发送信号</span></span><br><span class="line">    [subscriber sendNext:@<span class="number">1</span>];</span><br><span class="line">    <span class="comment">// 如果不在发送数据，最好发送信号完成，内部会自动调用[RACDisposable disposable]取消订阅信号。</span></span><br><span class="line"></span><br><span class="line">    [subscriber sendCompleted];</span><br><span class="line">    <span class="keyword">return</span> [RACDisposable disposableWithBlock:^&#123;</span><br><span class="line">      <span class="comment">// block调用时刻：当信号发送完成或者发送错误，就会自动执行这个block,取消订阅信号。</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 执行完Block后，当前信号就不在被订阅了。</span></span><br><span class="line">      <span class="built_in">NSLog</span>(<span class="string">@"信号销毁了"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;];</span><br><span class="line">  &#125;];</span><br><span class="line">  <span class="comment">//    3. 订阅信号，才会激活信号</span></span><br><span class="line">  [signal subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">     <span class="comment">// block调用时刻：每当有信号发出数据，就会调用block.</span></span><br><span class="line">   <span class="built_in">NSLog</span>(<span class="string">@"接收到数据：%@"</span>,x);</span><br><span class="line">  &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>RACDisposable</code>:用于取消订阅或者清理资源，当信号发送完成或者发送错误的时候，就会自动触发它。<br><strong>使用场景</strong>: 不想监听某个信号时，可以通过它主动取消订阅信号。</p>
</li>
<li><p><code>RACSubject</code>: 信号提供者，自己可以充当信号，又能发送信号。<br><strong>使用场景</strong>： 通常用来代替代理，有了它，就不必要使用代理了</p>
</li>
<li><code>RACReplaySubject</code>:重复提供信号类，<code>RACSubject</code>的子类。<blockquote>
<p><code>RACReplaySubject</code>可以先发送信号，在订阅信号，<code>RACSubject</code>就不可以<br><strong>使用场景一</strong>:如果一个信号每被订阅一次，就需要把之前的值重复发送一遍，使用重复提供信号类。<br><strong>使用场景二</strong>:可以设置capacity数量来限制缓存的value的数量,即只缓充最新的几个值。</p>
</blockquote>
</li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)createRACSubject&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// RACSubject使用步骤</span></span><br><span class="line">  <span class="comment">// 1.创建信号 [RACSubject subject]，跟RACSiganl不一样，创建信号时没有block。</span></span><br><span class="line">  <span class="comment">// 2.订阅信号 - (RACDisposable * ) subscribeNext:(void (^)(id x))nextBlock</span></span><br><span class="line">  <span class="comment">// 3.发送信号 sendNext:(id)value</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// RACSubject:底层实现和RACSignal不一样。</span></span><br><span class="line">  <span class="comment">// 1.调用subscribeNext订阅信号，只是把订阅者保存起来，并且订阅者的nextBlock已经赋值了。</span></span><br><span class="line">  <span class="comment">// 2.调用sendNext发送信号，遍历刚刚保存的所有订阅者，一个一个调用订阅者的nextBlock</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//1. 创建信号</span></span><br><span class="line">  RACSubject * subject = [RACSubject subject];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//2.订阅信号</span></span><br><span class="line">  [subject subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">    <span class="comment">// block调用时刻：当信号发出新值，就会调用.</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第一个订阅都:%@"</span>,x);</span><br><span class="line">  &#125;];</span><br><span class="line">  [subject subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">    <span class="comment">// block调用时刻：当信号发出新值，就会调用.</span></span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第二个订阅都:%@"</span>,x);</span><br><span class="line">  &#125;];</span><br><span class="line">  <span class="comment">//3. 发送信息</span></span><br><span class="line">  [subject sendNext:<span class="string">@"1"</span>];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)createReplaySubject&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// RACReplaySubject使用步骤:</span></span><br><span class="line">  <span class="comment">// 1.创建信号 [RACSubject subject]，跟RACSiganl不一样，创建信号时没有block。</span></span><br><span class="line">  <span class="comment">// 2.可以先订阅信号，也可以先发送信号。</span></span><br><span class="line">  <span class="comment">// 2.1 订阅信号 - (RACDisposable * )subscribeNext:(void (^)(id x))nextBlock</span></span><br><span class="line">  <span class="comment">// 2.2 发送信号 sendNext:(id)value</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// RACReplaySubject:底层实现和RACSubject不一样。</span></span><br><span class="line">  <span class="comment">// 1.调用sendNext发送信号，把值保存起来，然后遍历刚刚保存的所有订阅者，一个一个调用订阅者的nextBlock。</span></span><br><span class="line">  <span class="comment">// 2.调用subscribeNext订阅信号，遍历保存的所有值，一个一个调用订阅者的nextBlock</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果想当一个信号被订阅，就重复播放之前所有值，需要先发送信号，在订阅信号。</span></span><br><span class="line">  <span class="comment">// 也就是先保存值，在订阅值。</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//    1.创建信号</span></span><br><span class="line">  RACReplaySubject * replaySuject = [RACReplaySubject subject];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//    2. 发送信号</span></span><br><span class="line">  [replaySuject sendNext:@<span class="number">1</span>];</span><br><span class="line">  [replaySuject sendNext:@<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">//    3.订阅信号</span></span><br><span class="line">  [replaySuject subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"第一个订阅者接收到的数据%@"</span>,x);</span><br><span class="line"></span><br><span class="line">  &#125;];</span><br><span class="line">  [replaySuject subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@" 第二个订阅者接收到的数据%@"</span>,x);</span><br><span class="line"></span><br><span class="line">  &#125;];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p><code>RACTuple</code>:元组类,类似<code>NSArray</code>,用来包装值.</p>
</li>
<li><p><code>RACSequence</code>:RAC中的集合类，用于代替<code>NSArray</code>,<code>NSDictionary</code>,可以使用它来快速遍历数组和字典。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">-( <span class="keyword">void</span> )RACIterator&#123;</span><br><span class="line">    <span class="comment">// 1.遍历数组</span></span><br><span class="line">    <span class="built_in">NSArray</span> * numbers = @[@<span class="number">1</span>,@<span class="number">3</span>,@<span class="number">4</span>];</span><br><span class="line">    <span class="comment">// 这里其实是三步</span></span><br><span class="line">    <span class="comment">// 第一步: 把数组转换成集合RACSequence numbers.rac_sequence</span></span><br><span class="line">    <span class="comment">// 第二步: 把集合RACSequence转换RACSignal信号类,numbers.rac_sequence.signal</span></span><br><span class="line">    <span class="comment">// 第三步: 订阅信号，激活信号，会自动把集合中的所有值，遍历出来。</span></span><br><span class="line">    [numbers.rac_sequence.signal subscribeNext:^(<span class="keyword">id</span>   x) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,x);</span><br><span class="line">    &#125;];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.遍历字典,遍历出来的键值对会包装成RACTuple(元组对象)</span></span><br><span class="line">    <span class="built_in">NSDictionary</span> * dict = @&#123;<span class="string">@"name"</span>:<span class="string">@"yuanph"</span>,<span class="string">@"age"</span>:@<span class="number">18</span>,<span class="string">@"country"</span>:<span class="string">@"china"</span>&#125;;</span><br><span class="line">    [dict.rac_sequence.signal subscribeNext:^(RACTuple *  x) &#123;</span><br><span class="line">        <span class="comment">// 解包元组，会把元组的值，按顺序给参数里面的变量赋值</span></span><br><span class="line">        RACTupleUnpack(<span class="built_in">NSString</span> * key,<span class="built_in">NSString</span> * value)= x;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"%@:%@"</span>,key,value);</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>RACCommand</code>:<code>RAC</code>中用于处理事件的类，可以把事件如何处理,事件中的数据如何传递，包装到这个类中，他可以很方便的监控事件的执行过程<br> <strong>使用场景</strong>:监听按钮点击，网络请求</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/02/27/UITest/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/02/27/UITest/" itemprop="url">UITest 学习笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-27T14:38:16+08:00">
                2017-02-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="UITest是什么？"><a href="#UITest是什么？" class="headerlink" title="UITest是什么？"></a>UITest是什么？</h2><p>UITest 是一个自动测试UI与交互的Testing组件</p>
<h2 id="UITest有什么作用？"><a href="#UITest有什么作用？" class="headerlink" title="UITest有什么作用？"></a>UITest有什么作用？</h2><p>它可以通过代编写代码／记录开发者的操作过程并代码化，来实现自动点击某个按钮／视图／自动输入文字等功能</p>
<h2 id="UI-Test-的重要性"><a href="#UI-Test-的重要性" class="headerlink" title="UI Test 的重要性"></a>UI Test 的重要性</h2><p> 在实际开发过程中，随着项目越做越大，功能越来越多，仅仅靠人功操作的方式来覆盖所有测试用修饰是非常困难的，尤其是加入新功能以后，旧的功能也要重新测试，这导致测试需要花非常多的时间来进行回规性测试。这里产生了大量的重复工作，而这些工作完全可以自动完成。这时UITest就可以帮助解决这个问题。</p>
<h2 id="XCTest-工具"><a href="#XCTest-工具" class="headerlink" title="XCTest 工具"></a>XCTest 工具</h2><p> XCTest 一共提供了3种UI测试对象</p>
<ul>
<li>XCUIApplication 当前测试应用target</li>
<li>XCUIElementQuery 定位查询当前UI中XCUIElement的一个类</li>
<li>XCUIElement UI测试中任何一个item项都被抽象成一个XCUIElement类型</li>
</ul>
<h3 id="XCUIApplication"><a href="#XCUIApplication" class="headerlink" title="XCUIApplication"></a>XCUIApplication</h3><p> XCUIApplication类是Application的代理，就像我们项目工程中的AppDelegate，这个对象用来启动或者是终止UI测试程序，还可以在启动的时候设置一些启动参数，在获取程序中的UI元素的时候，就是通过这个类的实例。这个类继承自XCUIElement类</p>
<h3 id="XCUIElement"><a href="#XCUIElement" class="headerlink" title="XCUIElement"></a>XCUIElement</h3><p> XCUIElement类是XCTest.framework对应用中的所有UI 控件的抽象，在UI测试中，没有UIKit中的UI类型，只是用这个类的实例表示所有的UI 控件，以及相应的交互方法，例如：执行手势（tap，press，swipe），滑动控件交互，拾取器交互，这个类采取了 XCUIElementAttributes协议（描述UI元素的属性：Identity，Value，Interaction State，Size），XCUIElementTypeQueryProvider协议(为指定类型的子代元素提供ready-made查询， 子代元素查询包含button，具体实现是:@property(readonly, copy) XCUIElementQuery *buttons; 等一系列对UIKit中元素的映射)</p>
<h3 id="XCUIElementQuery"><a href="#XCUIElementQuery" class="headerlink" title="XCUIElementQuery"></a>XCUIElementQuery</h3><p>XCUIElementQuery类是定位UI 元素的查询，这个类使用类似key-value的机制得到XCUIElement的实例，使用Type(XCUIElementType枚举)，Predicate， Identifier创建query，使用elementAtIndex:, elementMatchingPredicate,elementMatchingType: identifier:方法访问匹配到的UI元素，此类采用XCUIElementTypeQueryProvider协议</p>
<h2 id="Accessibility"><a href="#Accessibility" class="headerlink" title="Accessibility"></a>Accessibility</h2><p>为了让UI Testing能够工作，框架需要能够访问UI中的各个元素，这样才能执行它们的动作。你可以定义测试要在哪个特定的点进行点击和轻扫，但是这在不同屏幕大小的设备上就不那么好使了，又或者你换算出UI中元素在不同设备上的位置。</p>
<p>这时候accessibility就派上用场了。Accessibility是Apple很早之前构建的一个框架，它能帮助一些行动不便的用户来更好地使用你的应用。它为你的UI提供了丰富的语义数据，这能让不同的Accessibility功能给行动不便的用户展现你的应用。有很多功能都是现成的，直接就能在你的应用中使用，但是你可以（也应该）使用Accessibility的API来改进Accessibility关于UI的数据。在很多场景下这都是必需的，比如对一些自定义的控件，Accessibility就不清楚你的API要做什么。</p>
<p>UI Testing可以通过你的应用提供的Accessibility功能来与你的应用连接，这样就解决了设备大小不一的问题。如果你重新调整了UI中的某些元素，你也不用重写整套测试。实现Accessibility不仅是为了使用UI Testing，也能帮助行动不便的用户更好地使用你的应用</p>
<h2 id="UI-Recording"><a href="#UI-Recording" class="headerlink" title="UI Recording"></a>UI Recording</h2><p>当设置好可以访问的UI之后，你可能就想创建一些UI测试了。编写UI测试耗时又无聊，如果你的UI比较复杂，那这还有些难度。多亏在Xcode 7中，Apple引入了UI Recording，它能让你创建新的测试，并扩展原有的测试。当UI Recording打开之后，当你在真机或模拟器上与应用交互时，代码会自动生成。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2017/02/14/Xcode8-新增扩展/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2017/02/14/Xcode8-新增扩展/" itemprop="url">Xcode8 新增扩展</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-02-14T10:47:59+08:00">
                2017-02-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/Xcode8/" itemprop="url" rel="index">
                    <span itemprop="name">Xcode8</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>Xcode8 中新增文档注释功能<br>实现方法：option+cmd+/</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// 创建一个图片视图</span></span><br><span class="line"><span class="keyword">let</span> imageview = <span class="type">UIImageView</span>(image: #imageLiteral(resourceName: <span class="string">"friend"</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>新增颜色选择器<br>实现方法: color+回车</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//color+回车</span></span><br><span class="line">v.backgroundColor=#colorLiteral(red: <span class="number">0.5568627715</span>, green: <span class="number">0.3529411852</span>, blue: <span class="number">0.9686274529</span>, alpha: <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="http://7xw3wp.com1.z0.glb.clouddn.com/swift_select_color.png" alt="颜色选择">  </p>
<ol>
<li><p>Xcode8中取消预编译指令,原来的#pragma mark替换为//MARK:<br>实现方法: //MARK: -</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK: - 设置图片的frame</span></span><br><span class="line">img.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">200</span>, height: <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//MARK: 设置图片的center</span></span><br><span class="line">img.center = view.center</span><br></pre></td></tr></table></figure>
</li>
<li><p>原来的#warning也相应的替换成 //TODO: 和//FIXME:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//color+回车</span></span><br><span class="line">  v.backgroundColor=#colorLiteral(red: <span class="number">0.5568627715</span>, green: <span class="number">0.3529411852</span>, blue: <span class="number">0.9686274529</span>, alpha: <span class="number">1</span>) <span class="comment">//<span class="doctag">TODO:</span> 设置需要的颜色</span></span><br><span class="line"></span><br><span class="line">view.addSubview(v)</span><br><span class="line">    <span class="comment">/// 创建一个图片视图</span></span><br><span class="line"><span class="keyword">let</span> imageview = <span class="type">UIImageView</span>(image: #imageLiteral(resourceName: <span class="string">"friend"</span>)) <span class="comment">//<span class="doctag">FIXME:</span> 设置对应的图像</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>图片展示<br><img src="http://7xw3wp.com1.z0.glb.clouddn.com/swift_image_select.png" alt="图片预览"></p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2016/12/20/常用小技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2016/12/20/常用小技巧/" itemprop="url">iOS常用小技巧</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-20T18:32:07+08:00">
                2016-12-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li>去除字符串首尾空格<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以指定字符集</span></span><br><span class="line">[text stringByTrimmingCharactersInSet:[<span class="built_in">NSCharacterSet</span> whitespaceCharacterSet]];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>常用字符集：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *controlCharacterSet; <span class="comment">//控制符</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *whitespaceCharacterSet;<span class="comment">//空格</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *whitespaceAndNewlineCharacterSet;<span class="comment">//空格和换行</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *decimalDigitCharacterSet;<span class="comment">//数字</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *letterCharacterSet;<span class="comment">//字母</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *lowercaseLetterCharacterSet;<span class="comment">//小写字母</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *uppercaseLetterCharacterSet;<span class="comment">//大写字母</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *nonBaseCharacterSet;<span class="comment">//不知道</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *alphanumericCharacterSet;<span class="comment">//字母数字</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *decomposableCharacterSet;<span class="comment">//可分解字符集</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *illegalCharacterSet;<span class="comment">//非法字符</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *punctuationCharacterSet;<span class="comment">//标点符号</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *capitalizedLetterCharacterSet;<span class="comment">//大写字符</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *symbolCharacterSet;<span class="comment">//符号</span></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">readonly</span>, <span class="keyword">class</span>, <span class="keyword">copy</span>) <span class="built_in">NSCharacterSet</span> *newlineCharacterSet <span class="built_in">NS_AVAILABLE</span>(<span class="number">10</span>_5, <span class="number">2</span>_0);<span class="comment">//换行符</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>修改导航栏返回按钮</p>
<ul>
<li><p>自定义返回按钮</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIImage</span> * backButtonImage = [[<span class="built_in">UIImage</span> imageNamed:<span class="string">@"back_bg"</span>] resizableImageWithCapInsets:<span class="built_in">UIEdgeInsetsMake</span>(<span class="number">0</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="number">0</span>)];</span><br><span class="line">[[<span class="built_in">UIBarButtonItem</span> appearance] setBackButtonBackgroundImage:backButtonImage forState:<span class="built_in">UIControlStateNormal</span> barMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>将返回按钮的文字position设置不在屏幕上显示</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UIBarButtonItem</span> appearance] setBackButtonTitlePositionAdjustment:<span class="built_in">UIOffsetMake</span>(<span class="built_in">NSIntegerMin</span>, <span class="built_in">NSIntegerMin</span>) forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>用系统的返回按钮的时候 会发现显示的是蓝色的，想要改变成白色的添加下面一句话</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">UINavigationBar</span> appearance]setTintColor:[<span class="built_in">UIColor</span> whiteColor]];</span><br></pre></td></tr></table></figure>
</li>
<li><p>去除导航栏的黑色分隔线</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    去除导航栏的黑色分隔线</span></span><br><span class="line">    [<span class="keyword">self</span>.navigationController.navigationBar setBackgroundImage:[<span class="built_in">UIImage</span> imageWithColor:[<span class="built_in">UIColor</span> whiteColor]] forBarMetrics:<span class="built_in">UIBarMetricsDefault</span>];</span><br><span class="line">    <span class="keyword">self</span>.navigationController.navigationBar.shadowImage = [<span class="built_in">UIImage</span> imageWithColor:[<span class="built_in">UIColor</span> clearColor]];</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>给UITextView设置placehold </p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">UILabel</span> *placeHolderLabel = [[<span class="built_in">UILabel</span> alloc] init];</span><br><span class="line">placeHolderLabel.text = <span class="built_in">NSLocalizedString</span>(<span class="string">@"edit_signature_alert"</span>, <span class="literal">nil</span>);</span><br><span class="line">placeHolderLabel.numberOfLines = <span class="number">0</span>;</span><br><span class="line">placeHolderLabel.textColor = <span class="built_in">UIColorFromRGBA</span>(<span class="number">0xb4b4b4</span>, <span class="number">1</span>);</span><br><span class="line">[placeHolderLabel sizeToFit];</span><br><span class="line">placeHolderLabel.textAlignment= <span class="built_in">NSTextAlignmentLeft</span>;</span><br><span class="line">[<span class="keyword">self</span>.textView addSubview:placeHolderLabel];</span><br><span class="line"><span class="comment">// same font</span></span><br><span class="line">placeHolderLabel.font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">16.</span>f];</span><br><span class="line">[<span class="keyword">self</span>.textView setValue:placeHolderLabel forKey:<span class="string">@"_placeholderLabel"</span>];</span><br></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2016/11/22/UITextField/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2016/11/22/UITextField/" itemprop="url">UITextField</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-22T13:29:03+08:00">
                2016-11-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>思路：<br>使用runtime 获取textfiled的所有属性<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取类的所有属性</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">Ivar *ivarList = class_copyIvarList([<span class="built_in">UITextField</span> <span class="keyword">class</span>], &amp;count);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;count; i++) &#123;</span><br><span class="line">    Ivar ivar = ivarList[i];</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%s"</span>,ivar_getName(ivar));</span><br><span class="line">&#125;</span><br><span class="line">free(ivarList);</span><br></pre></td></tr></table></figure></p>
<p>修改文本框内的placehold字体颜色</p>
<ol>
<li><p>使用runtime // 利用KVC设置它颜色,结果成功 这里有一个问题，可能会出现低版本没有该属性，你需要进行检验下。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[textField setValue:[<span class="built_in">UIColor</span> redColor]forKeyPath:<span class="string">@"_placeholderLabel.textColor"</span>];  </span><br><span class="line">[textField setValue: [<span class="built_in">UIFontboldSystemFontOfSize</span>:<span class="number">16</span>] forKeyPath :<span class="string">@"_placeholderLabel.font"</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置属性文本</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSMutableDictionary</span> *dict = [<span class="built_in">NSMutableDictionary</span> dictionary];</span><br><span class="line">dict[<span class="built_in">NSForegroundColorAttributeName</span>] = [<span class="built_in">UIColor</span> redColor];</span><br><span class="line"><span class="built_in">NSAttributedString</span> *attribute = [[<span class="built_in">NSAttributedString</span> alloc] initWithString:<span class="keyword">self</span>.placeholder attributes:dict];</span><br><span class="line">[<span class="keyword">self</span> setAttributedPlaceholder:attribute];</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置光标颜色<br>使用<code>@property(null_resettable, nonatomic, strong) UIColor *tintColor</code>属性</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">textField.tintColor = <span class="built_in">UIColorFromRGBA</span>(rgbValue,A)</span><br></pre></td></tr></table></figure>
</li>
<li><p>捕捉键盘的return事件<br>遵守UITextFieldDelegate,并设置相关代理。实现如下代理方法</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField;  </span><br><span class="line"> <span class="comment">// called when 'return' key pressed. return NO to ignore.</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>捕捉文本改变事件通知<br>要想获取到文本改变事件通知，需要监听一个通知 <code>UITextFieldTextDidChangeNotification</code></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">NSNotificationCenter</span> defaultCenter]addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(textFiledDidChange:) name:<span class="built_in">UITextFieldTextDidChangeNotification</span> object:`文本框对象`];</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>PS: 文本常用通知<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UITextFieldTextDidBeginEditingNotification</span>; <span class="comment">//输入框已经开始编辑</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UITextFieldTextDidEndEditingNotification</span>;         <span class="comment">//输入框已经结束编辑</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UITextFieldTextDidChangeNotification</span>;         <span class="comment">//输入框已经改变</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<ol>
<li>限制文本字数<br>监听<code>UITextFieldTextDidChangeNotification</code>通知，并在方法里做如下操作。下面是我的一个代码片段。</li>
</ol>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#pragma mark - 文本改变通知</span></span><br><span class="line">-(<span class="keyword">void</span>)textFiledDidChange:(<span class="built_in">NSNotification</span>*)textChange&#123;</span><br><span class="line">    <span class="built_in">UITextField</span> * field = (<span class="built_in">UITextField</span>*)textChange.object;</span><br><span class="line">    <span class="built_in">NSString</span> * toBeString = field.text;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">UITextRange</span>  * selectedRange =  [field markedTextRange];</span><br><span class="line">    <span class="built_in">UITextPosition</span>* position = [field positionFromPosition:selectedRange.start offset:<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!position) &#123;</span><br><span class="line">        <span class="comment">//判断文本字符数是否操作最大值</span></span><br><span class="line">        <span class="keyword">if</span> (toBeString.length&gt;<span class="number">30</span>) &#123;</span><br><span class="line">            <span class="built_in">NSRange</span>  rangeIndex = [toBeString rangeOfComposedCharacterSequenceAtIndex:<span class="number">30</span>];</span><br><span class="line">            <span class="keyword">if</span> (rangeIndex.length==<span class="number">1</span>) &#123;</span><br><span class="line">                field.text = [toBeString substringToIndex:<span class="number">30</span>];</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">NSRange</span> range = [toBeString rangeOfComposedCharacterSequencesForRange:<span class="built_in">NSMakeRange</span>(<span class="number">0</span>, <span class="number">30</span>)];</span><br><span class="line">                field.text = [toBeString substringWithRange:range];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (toBeString.length==<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//没有输入文本处理</span></span><br><span class="line">            _characterNumber.text=[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d/30"</span>,(<span class="keyword">int</span>)field.text.length];</span><br><span class="line">            [_remark_textfield showUnderLine:<span class="built_in">UIColorFromRGBA</span>(<span class="number">0xb4b4b4</span>, <span class="number">1</span>)];</span><br><span class="line">            _remark_OK.enabled=<span class="literal">NO</span>;</span><br><span class="line"></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">// 有文本处理</span></span><br><span class="line">            _characterNumber.text=[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d/30"</span>,(<span class="keyword">int</span>)field.text.length];</span><br><span class="line">            [_remark_textfield showUnderLine:<span class="built_in">UIColorFromRGBA</span>(<span class="number">0xe62f17</span>, <span class="number">1</span>)];</span><br><span class="line">            <span class="keyword">if</span> ([CheckInputValid CheckForNicknameWithInString:field.text]) &#123;</span><br><span class="line">                _remark_OK.enabled=<span class="literal">YES</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                _remark_OK.enabled=<span class="literal">NO</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><p>个性化定制文本框右边的视图( <code>rightView</code>)</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 初始化一个视图（可以是任一视图（UILabel,UIButton,...）），Ps 需要指定一个框高  ,你可以对这个视图添加你想要的事件</span></span><br><span class="line">_characterNumber = [[<span class="built_in">UILabel</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">50</span>, <span class="number">30</span>)];</span><br><span class="line">_characterNumber.text = <span class="string">@"0/30"</span>;</span><br><span class="line">_characterNumber.textAlignment = <span class="built_in">NSTextAlignmentRight</span>;</span><br><span class="line">_characterNumber.font = [<span class="built_in">UIFont</span> systemFontOfSize:<span class="number">12</span>];</span><br><span class="line">_characterNumber.textColor = <span class="built_in">UIColorFromRGBA</span>(<span class="number">0xb4b4b4</span>, <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置右边视图</span></span><br><span class="line">_remark_textfield.rightView = _characterNumber;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置右边视图的显示模式</span></span><br><span class="line">_remark_textfield.rightViewMode = <span class="built_in">UITextFieldViewModeAlways</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当键盘出现时，需要改变输入框的位置，要如何做？<br>要想实现这个，很简单，同样你需要监听<code>UIKeyboardDidChangeFrameNotification</code>这个通知。</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="built_in">NSNotificationCenter</span> defaultCenter ]addObserver:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(keyBoardFrameChanged:) name:<span class="built_in">UIKeyboardDidChangeFrameNotification</span> object:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">-(<span class="keyword">void</span>)keyBoardFrameChanged:( <span class="built_in">NSNotification</span> * )notification&#123;</span><br><span class="line">    <span class="built_in">NSDictionary</span> * userInfo = [notification userInfo];</span><br><span class="line">    <span class="built_in">NSValue</span> * value = [userInfo objectForKey:<span class="built_in">UIKeyboardFrameEndUserInfoKey</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取到键盘的位置</span></span><br><span class="line">    <span class="built_in">CGRect</span> keyboardRect =  [value <span class="built_in">CGRectValue</span>];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGFloat</span> keyboardTop = keyboardRect.origin.y;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//进行你的想要的布局操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>PS：常见的键盘通知<br> <figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardWillChangeFrameNotification</span>  <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0) __TVOS_PROHIBITED; <span class="comment">//键盘将要改变通知</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardDidChangeFrameNotification</span>   <span class="built_in">NS_AVAILABLE_IOS</span>(<span class="number">5</span>_0) __TVOS_PROHIBITED; <span class="comment">//键盘已经改变通知</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardWillShowNotification</span> __TVOS_PROHIBITED; <span class="comment">//键盘将要显示通知</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardDidShowNotification</span> __TVOS_PROHIBITED;  <span class="comment">//键盘已经显示</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardWillHideNotification</span> __TVOS_PROHIBITED; <span class="comment">//键盘将要隐藏</span></span><br><span class="line"><span class="built_in">UIKIT_EXTERN</span> <span class="built_in">NSNotificationName</span> <span class="keyword">const</span> <span class="built_in">UIKeyboardDidHideNotification</span> __TVOS_PROHIBITED;  <span class="comment">//键盘已经隐藏</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<ol>
<li>给文本框加上一根横线<br>对于这个，你可以给做一个子类，继承自UITextFiled. 重写drawRect方法如下所示<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">TextFieldExtension</span> : <span class="title">UITextField</span></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> 显示下划线</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">-(<span class="keyword">void</span>)showUnderLine:(<span class="built_in">UIColor</span>* _Nullable)lineColor;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"TextFieldExtension.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">TextFieldExtension</span> ()</span></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">assign</span>) <span class="built_in">BOOL</span> showunderline;</span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">nonatomic</span>,<span class="keyword">strong</span>)<span class="built_in">UIColor</span> * lineColor;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">TextFieldExtension</span></span></span><br><span class="line">- (<span class="keyword">void</span>)drawRect:(<span class="built_in">CGRect</span>)rect &#123;</span><br><span class="line">    <span class="keyword">if</span> (_showunderline) &#123;</span><br><span class="line">        <span class="comment">// Drawing code</span></span><br><span class="line">        <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();       </span><br><span class="line">        [<span class="keyword">self</span>.lineColor set];<span class="comment">//设置下划线颜色 这里是红色 可以自定义        </span></span><br><span class="line">        <span class="built_in">CGFloat</span> y = <span class="built_in">CGRectGetHeight</span>(<span class="keyword">self</span>.frame);</span><br><span class="line">        <span class="built_in">CGContextMoveToPoint</span>(context, <span class="number">0</span>, y);        </span><br><span class="line">        <span class="built_in">CGContextAddLineToPoint</span>(context, <span class="built_in">CGRectGetWidth</span>(<span class="keyword">self</span>.frame), y);</span><br><span class="line">        <span class="comment">//设置线的宽度        </span></span><br><span class="line">        <span class="built_in">CGContextSetLineWidth</span>(context, <span class="number">1</span>);     </span><br><span class="line">        <span class="comment">//渲染 显示到self上      </span></span><br><span class="line">        <span class="built_in">CGContextStrokePath</span>(context);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="keyword">void</span>)showUnderLine:(<span class="built_in">UIColor</span> *)lineColor&#123;</span><br><span class="line">    _showunderline=<span class="literal">YES</span>;</span><br><span class="line">    _lineColor=lineColor;</span><br><span class="line">    [<span class="keyword">self</span> setNeedsDisplay];</span><br><span class="line">&#125;</span><br><span class="line">-(<span class="built_in">UIColor</span> *)lineColor&#123;</span><br><span class="line">    <span class="keyword">if</span> (!_lineColor) &#123;</span><br><span class="line">        _lineColor =[<span class="built_in">UIColor</span> grayColor];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _lineColor;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2016/11/19/English-Level2-UNIT6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2016/11/19/English-Level2-UNIT6/" itemprop="url">English-UNIT6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-19T22:32:21+08:00">
                2016-11-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#</p>
<h2 id="谈论天气、季节和温度"><a href="#谈论天气、季节和温度" class="headerlink" title="谈论天气、季节和温度"></a>谈论天气、季节和温度</h2><p>描述一个地方的天气和气候有多种方法。</p>
<ol>
<li><p>你可以描述天气和温度。</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">It<span class="comment">'s often wendy.	常常刮风。</span></span><br><span class="line">It<span class="comment">'s so cold and cloudy.	天很阴，又很冷。</span></span><br><span class="line">It gets <span class="keyword">to</span> <span class="number">115</span> degrees Fahrenheit. That<span class="comment">'s, like, 46 degrees Celsius!	温度达到华氏 115 度，相当于 46 摄氏度。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>你可以使用表达感觉和观点的形容词。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Fall <span class="keyword">is</span> perfect.	秋天很美。</span><br><span class="line">Winter <span class="keyword">is</span> terrible.	冬天很糟。</span><br><span class="line">It<span class="symbol">'s</span> lovely <span class="keyword">in</span> spring.	春天真美。</span><br></pre></td></tr></table></figure>
</li>
<li><p>你可以比较时间、地点和环境。</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">It gets cooler <span class="keyword">at</span> night.	夜晚天气变得更凉爽。</span><br><span class="line">It<span class="symbol">'s</span> nicer here than <span class="keyword">in</span> the desert.	这里比沙漠更好。</span><br><span class="line">It<span class="symbol">'s</span> hot <span class="keyword">in</span> summer <span class="keyword">and</span> cold <span class="keyword">in</span> winter.	冬冷夏热。</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="询问和介绍地点的信息"><a href="#询问和介绍地点的信息" class="headerlink" title="询问和介绍地点的信息"></a>询问和介绍地点的信息</h2><ol>
<li><p>询问他们是否喜欢自己的家乡，是鼓励他人谈论其家乡的一种方法。</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A: <span class="keyword">Where</span> are you <span class="keyword">from</span>?	你来自哪里？</span><br><span class="line">B: I<span class="comment">'m from Ottawa.	我来自渥太华。</span></span><br><span class="line">A: <span class="keyword">Do</span> you <span class="keyword">like</span> it there?	你喜欢那里吗？</span><br><span class="line">B: Oh, yeah. There are fantastic museums <span class="keyword">and</span> festivals.	哦，是的。那里有许多很好的博物馆和节日。</span><br></pre></td></tr></table></figure>
</li>
<li><p>询问某件具体的事情，你可以使用表达 What’s the + 名词 + like?。记住，这里的 like 不同于 Do you like …? 中的用法。</p>
</li>
</ol>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A: What<span class="symbol">'s</span> the weather like <span class="keyword">in</span> your hometown?	你的家乡天气什么样子？</span><br><span class="line">B: It<span class="symbol">'s</span> cold <span class="keyword">and</span> snowy <span class="keyword">in</span> winter. It gets <span class="keyword">to</span> -<span class="number">30</span> degrees. But it<span class="symbol">'s</span> warm <span class="keyword">in</span> summer <span class="keyword">and</span> fall.	冬天寒冷，还会下雪。温度降到零下 <span class="number">30</span> 度。但夏天和秋天很暖和。</span><br></pre></td></tr></table></figure>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A: What<span class="symbol">'s</span> the food like <span class="keyword">in</span> Ottawa?	在渥太华都吃什么？</span><br><span class="line">B: Well, we eat a lot <span class="keyword">of</span> fish. <span class="keyword">And</span> poutine <span class="keyword">is</span> popular. It<span class="symbol">'s</span> special french fries <span class="keyword">with</span> cheese.	嗯，我们常常吃鱼，奶酪蘸番茄酱薯条很受欢迎。这种薯条搭配奶酪，很特别。</span><br></pre></td></tr></table></figure>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">A:</span> What are the people like?	人都怎么样？</span><br><span class="line"><span class="symbol">B:</span> Many people are university graduates <span class="keyword">and</span> can speak English <span class="keyword">and</span> French.	许多人读过大学，会讲英语和法语。</span><br></pre></td></tr></table></figure>
<h2 id="表达疑虑"><a href="#表达疑虑" class="headerlink" title="表达疑虑"></a>表达疑虑</h2><ol>
<li>使用类似下面的表达表示疑虑。注意语调的变化如何加深说话人的疑虑程度。  </li>
</ol>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Are you sure <span class="keyword">about</span> <span class="keyword">that</span>?	那你确定吗？</span><br><span class="line">If you <span class="built_in">say</span> so. 	既然你这么说。</span><br></pre></td></tr></table></figure>
<ol>
<li>表达疑虑还有一种方法，就是重复或反驳某人刚说的话。再次注意表示疑虑的人的语调。</li>
</ol>
<figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A: I<span class="symbol">'ll</span> probably go <span class="keyword">to</span> the spa tonight.</span><br><span class="line">B: The spa?   	我今晚很可能会去水疗中心？</span><br><span class="line">水疗中心？</span><br><span class="line">A: We<span class="symbol">'re</span> going <span class="keyword">to</span> travel through Europe this year.</span><br><span class="line">B: You<span class="symbol">'re</span> <span class="keyword">not</span> going <span class="keyword">to</span> Asia?	我们今年打算环游欧洲。</span><br><span class="line">你不打算去亚洲吗？</span><br></pre></td></tr></table></figure>
<blockquote>
<p>语言点：注意这些表示疑虑的表达的使用方式和对象。比如，跟老板说 If you say so 可能不大好！</p>
</blockquote>
<h2 id="用-‘Will’-表达提议或主动做某事"><a href="#用-‘Will’-表达提议或主动做某事" class="headerlink" title="用 ‘Will’ 表达提议或主动做某事"></a>用 ‘Will’ 表达提议或主动做某事</h2><ol>
<li>使用 will + 动词提议或自愿在不久或更远的将来做某事。</li>
</ol>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Let</span><span class="comment">'s go to Istanbul. I'll make the plane reservations right now.	（我们去伊斯坦布尔吧。我马上订机票。）</span></span><br><span class="line">I<span class="comment">'ll drive you to the airport next week, if you want.	（如果你愿意，下周我开车送你去机场。）</span></span><br></pre></td></tr></table></figure>
<ol>
<li>使用 will + 动词提出非正式请求。</li>
</ol>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A: When I go <span class="keyword">on</span> vacation, will you take care <span class="keyword">of</span> <span class="keyword">my</span> dog?</span><br><span class="line">B: Sure, I'll take care <span class="keyword">of</span> little Sammie.	（我去度假期间，你帮我照顾狗，好吗？）</span><br><span class="line">（没问题，我帮你照顾小 Sammie。）</span><br></pre></td></tr></table></figure>
<ol>
<li>你可以使用 will not 谢绝请求，但务必谨慎使用：可能显得过于直接，可能会让人不高兴。</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">A:</span> <span class="string">Will</span> <span class="string">you</span> <span class="string">get</span> <span class="string">my</span> <span class="string">luggage?</span></span><br><span class="line"><span class="attr">B:</span> <span class="literal">No</span><span class="string">,</span> <span class="string">I</span> <span class="string">won't.</span>	<span class="string">（你帮我拿行李，好吗？）</span></span><br><span class="line"><span class="string">（不，我不行。）</span></span><br></pre></td></tr></table></figure>
<h2 id="告别语"><a href="#告别语" class="headerlink" title="告别语"></a>告别语</h2><ol>
<li>当某人出发旅行时，使用类似这样的表达送别：</li>
</ol>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Have a great trip! 	旅途愉快！</span><br><span class="line">Drive safely!   	小心驾驶！</span><br><span class="line">Have a good flight.  	坐飞机一路愉快！</span><br><span class="line"><span class="keyword">Call</span> <span class="keyword">me</span> <span class="keyword">when</span> you <span class="keyword">get</span> there. 	到了打电话给我。</span><br><span class="line">Don<span class="comment">'t worry about anything.	什么都不要担心。</span></span><br></pre></td></tr></table></figure>
<ol>
<li>当某人出发旅行时，你可以使用短语 Bon voyage!，该短语直接源于法语。<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A: OK, <span class="keyword">then</span>. I<span class="comment">'m going.	好吧。那我走了。</span></span><br><span class="line">B: Bon voyage! 	一路平安！</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="动词-‘try’、’remember’-和-‘stop’"><a href="#动词-‘try’、’remember’-和-‘stop’" class="headerlink" title="动词 ‘try’、’remember’ 和 ‘stop’"></a>动词 ‘try’、’remember’ 和 ‘stop’</h2><ol>
<li>动词 ‘try’、’remember’ 和 ‘stop’ 的意义会根据后接动词的形式而改变。</li>
</ol>
<h3 id="‘Try’"><a href="#‘Try’" class="headerlink" title="‘Try’"></a>‘Try’</h3><ol>
<li><p>当动词 try 后接不定式 （to + 动词） 时，例如 to buy，表示试图做某事。<br>I can’t go to the mall. Maybe I’ll try to buy something online.              （我不能去商场。也许我会试着网上购物。）</p>
</li>
<li><p>当动词 try 后接动名词时 （动词 + -ing），例如 swimming，表示第一次做某事，或尝试做不同的事情。<br>I don’t like biking. Maybe I’ll try swimming on my vacation.    （我不喜欢骑自行车。也许假期我会试着游游泳。）</p>
</li>
</ol>
<h3 id="‘Remember’"><a href="#‘Remember’" class="headerlink" title="‘Remember’"></a>‘Remember’</h3><ol>
<li><p>当动词 remember 后接不定式时，例如 to call，表示记得去履行一项职责或任务。<br>I always remember to call my mother on Sunday.    我星期天总是记得打电话给我母亲。</p>
</li>
<li><p>当动词 remember 后接动名词时，例如 calling，表示记得过去做过某事。<br>I remember calling the neighbors.    （我记得给邻居打电话了。）</p>
</li>
</ol>
<h3 id="‘Stop’"><a href="#‘Stop’" class="headerlink" title="‘Stop’"></a>‘Stop’</h3><ol>
<li><p>当动词 stop 后接不定式时，如 to eat，表示停止一个动作，开始另一个动作。在本例中，这个人在工作，但停下工作吃东西。<br>I stopped to eat when I got hungry.     当我饿的时候，我停下来去吃了点东西。</p>
</li>
<li><p>当动词 stop 后接动名词时，如 eating，表示一个中止的动作。<br>I stopped eating when I felt sick.    （我感觉恶心，停止了吃东西。）</p>
</li>
</ol>
<h2 id="省略形式"><a href="#省略形式" class="headerlink" title="省略形式"></a>省略形式</h2><p>记住，在英语口语中，每个词的每个音并不是总要发出来。尤其是元音常常缩短或是省略。这些形式很少在书面英语中使用，但听到时能够辨识很重要。</p>
<p>请听 going to、have to 和 want to 的省略形式。注意它们书写和发音的不同之处。</p>
<h3 id="‘Going-to’"><a href="#‘Going-to’" class="headerlink" title="‘Going to’"></a>‘Going to’</h3><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">We<span class="symbol">'re</span> going <span class="keyword">to</span> fly <span class="keyword">to</span> Hawaii.	我们打算坐飞机去夏威夷。</span><br><span class="line">I<span class="symbol">'m</span> going <span class="keyword">to</span> call my mom. 	我打算打电话给我妈妈。</span><br><span class="line">It<span class="symbol">'s</span> going <span class="keyword">to</span> rain. 	要下雨了。</span><br><span class="line">She<span class="symbol">'s</span> going <span class="keyword">to</span> play computer games.</span><br><span class="line">她打算玩电脑游戏。</span><br></pre></td></tr></table></figure>
<h3 id="‘Have-to’"><a href="#‘Have-to’" class="headerlink" title="‘Have to’"></a>‘Have to’</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">I have <span class="keyword">to</span> <span class="keyword">go</span>.	我得走了。</span><br><span class="line">We have <span class="keyword">to</span> <span class="keyword">be</span> quick.	我们不得不快点。</span><br><span class="line">She <span class="built_in">has</span> <span class="keyword">to</span> leave.	她不得不离开。</span><br><span class="line">He <span class="built_in">has</span> <span class="keyword">to</span> <span class="built_in">get</span> <span class="keyword">up</span> early.</span><br><span class="line">他不得不早起。</span><br></pre></td></tr></table></figure>
<h3 id="‘Want-to’"><a href="#‘Want-to’" class="headerlink" title="‘Want to’"></a>‘Want to’</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">I want <span class="keyword">to</span> <span class="keyword">go</span> <span class="keyword">to</span> bed.	我想上床睡觉。</span><br><span class="line">Do you want <span class="keyword">to</span> <span class="keyword">go</span> <span class="keyword">to</span> the movies?	你想去看电影吗?</span><br><span class="line">She wants <span class="keyword">to</span> eat out.	她想出去吃饭。</span><br><span class="line"></span><br><span class="line">He wants <span class="keyword">to</span> <span class="keyword">go</span> home.</span><br></pre></td></tr></table></figure>
<p>他想回家。</p>
<blockquote>
<p>注意，如果主格代词是 he、she 或 it，have to 和 want to 的口语省略形式会改变，但 going to 的省略形式保持不变。</p>
</blockquote>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yuanph.org../../2016/11/17/UIImagePickerController/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="志鹏">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="志鹏的技术博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../2016/11/17/UIImagePickerController/" itemprop="url">UIImagePickerController</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-11-17T19:12:27+08:00">
                2016-11-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="../../categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>创建对象</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//去相册选择图片</span></span><br><span class="line"> <span class="built_in">UIImagePickerController</span> * pickerController =[[<span class="built_in">UIImagePickerController</span> alloc]init];</span><br><span class="line"> pickerController.mediaTypes = @[(<span class="built_in">NSString</span> *)kUTTypeImage,(<span class="built_in">NSString</span> *)kUTTypeMovie,(<span class="built_in">NSString</span> *)kUTTypeVideo];<span class="comment">//设置选择的资源类型</span></span><br><span class="line"> <span class="keyword">if</span> ([<span class="built_in">UIImagePickerController</span> isSourceTypeAvailable:<span class="built_in">UIImagePickerControllerSourceTypePhotoLibrary</span>]) &#123;</span><br><span class="line">     pickerController.sourceType=<span class="built_in">UIImagePickerControllerSourceTypePhotoLibrary</span>;</span><br><span class="line">     pickerController.delegate=<span class="keyword">self</span>;</span><br><span class="line"></span><br><span class="line">     [<span class="keyword">self</span>.navigationController presentViewController:pickerController animated:<span class="literal">YES</span> completion:^&#123;</span><br><span class="line"></span><br><span class="line">     &#125;];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>代理方法实现：<br><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)imagePickerController:(<span class="built_in">UIImagePickerController</span> *)picker didFinishPickingMediaWithInfo:(<span class="built_in">NSDictionary</span>&lt;<span class="built_in">NSString</span> *,<span class="keyword">id</span>&gt; *)info&#123;</span><br><span class="line">    [picker dismissViewControllerAnimated:<span class="literal">NO</span> completion:<span class="literal">nil</span>];</span><br><span class="line">    <span class="built_in">NSString</span> * file= <span class="literal">nil</span>;</span><br><span class="line">    <span class="built_in">NSString</span> *mdeiaTye = [info objectForKey:<span class="built_in">UIImagePickerControllerMediaType</span>]; <span class="comment">//获取媒体类型</span></span><br><span class="line">    <span class="keyword">if</span> ([mdeiaTye isEqualToString:(<span class="built_in">NSString</span>*)kUTTypeImage]) &#123;</span><br><span class="line">      <span class="comment">//获取的是图片资源</span></span><br><span class="line">        <span class="built_in">UIImage</span> *image = [info objectForKey:<span class="built_in">UIImagePickerControllerOriginalImage</span>];</span><br><span class="line">        <span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line">        <span class="built_in">NSString</span> *docPath = [paths lastObject];</span><br><span class="line">        file = [docPath stringByAppendingPathComponent:<span class="string">@"output.png"</span>];</span><br><span class="line">        [[<span class="built_in">NSFileManager</span> defaultManager]removeItemAtPath:file error:<span class="literal">nil</span>];</span><br><span class="line">        <span class="built_in">NSData</span> *imageData = <span class="built_in">UIImagePNGRepresentation</span>(image);</span><br><span class="line">        [imageData writeToFile:file atomically:<span class="literal">YES</span>];</span><br><span class="line">        <span class="built_in">NSString</span>* uuid = [[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"tmp://%@"</span>, [[<span class="built_in">NSUUID</span> UUID] UUIDString]] stringByAppendingPathExtension:[file pathExtension]];</span><br><span class="line">        [[<span class="built_in">NSFileManager</span> defaultManager] moveItemAtPath:file toPath:[FileDownloader cacheFileWithUrl:uuid] error:<span class="literal">nil</span>];</span><br><span class="line"></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// 获取的是视频资源</span></span><br><span class="line">        <span class="built_in">NSArray</span> *paths = <span class="built_in">NSSearchPathForDirectoriesInDomains</span>(<span class="built_in">NSCachesDirectory</span>, <span class="built_in">NSUserDomainMask</span>, <span class="literal">YES</span>);</span><br><span class="line">        <span class="built_in">NSString</span> *docPath = [paths lastObject];</span><br><span class="line">        file = [docPath stringByAppendingPathComponent:<span class="string">@"output.mp4"</span>];</span><br><span class="line">        [[<span class="built_in">NSFileManager</span> defaultManager]removeItemAtPath:file error:<span class="literal">nil</span>];</span><br><span class="line">        <span class="built_in">NSURL</span> * url =[info objectForKey:<span class="built_in">UIImagePickerControllerMediaURL</span>];</span><br><span class="line">        <span class="built_in">NSData</span> * data =[<span class="built_in">NSData</span> dataWithContentsOfURL:url];</span><br><span class="line">        [data writeToFile:file atomically:<span class="literal">YES</span>];<span class="comment">//将视频移到本应用的目录下</span></span><br><span class="line">        <span class="built_in">NSString</span>* uuid = [[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"tmp://%@"</span>, [[<span class="built_in">NSUUID</span> UUID] UUIDString]] stringByAppendingPathExtension:[file pathExtension]];</span><br><span class="line">        [[<span class="built_in">NSFileManager</span> defaultManager] moveItemAtPath:file toPath:[FileDownloader cacheFileWithUrl:uuid] error:<span class="literal">nil</span>];</span><br><span class="line">        <span class="comment">// 获取视频时长</span></span><br><span class="line">        <span class="built_in">CGFloat</span> duration = [<span class="keyword">self</span> getVideoDuration:url];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取视频时长</span></span><br><span class="line">-(<span class="built_in">CGFloat</span>) getVideoDuration:(<span class="built_in">NSURL</span>*) URL &#123;</span><br><span class="line">    <span class="built_in">NSDictionary</span>* opts = [<span class="built_in">NSDictionary</span> dictionaryWithObject:[<span class="built_in">NSNumber</span> numberWithBool:<span class="literal">NO</span>] forKey:<span class="built_in">AVURLAssetPreferPreciseDurationAndTimingKey</span>];</span><br><span class="line">    <span class="built_in">AVURLAsset</span> *urlAsset = [<span class="built_in">AVURLAsset</span> URLAssetWithURL:URL options:opts];</span><br><span class="line">    <span class="keyword">float</span> second = <span class="number">0</span>;</span><br><span class="line">    second = urlAsset.duration.value/urlAsset.duration.timescale;</span><br><span class="line">    <span class="keyword">return</span> second;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取文件大小</span></span><br><span class="line">-(<span class="built_in">NSInteger</span>) getFileSize:(<span class="built_in">NSString</span>*) path &#123;</span><br><span class="line">    <span class="built_in">NSFileManager</span> *filemanager = [[<span class="built_in">NSFileManager</span> alloc]init];</span><br><span class="line">    <span class="keyword">if</span>([filemanager fileExistsAtPath:path])&#123;</span><br><span class="line">        <span class="built_in">NSDictionary</span>* attributes = [filemanager attributesOfItemAtPath:path error:<span class="literal">nil</span>];</span><br><span class="line">        <span class="built_in">NSNumber</span> *theFileSize;</span><br><span class="line">        <span class="keyword">if</span> ( (theFileSize = [attributes objectForKey:<span class="built_in">NSFileSize</span>]) )</span><br><span class="line">            <span class="keyword">return</span> [theFileSize intValue]/<span class="number">1024</span>; <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../index.html">1</a><span class="space">&hellip;</span><a class="page-number" href="../4/">4</a><span class="page-number current">5</span><a class="page-number" href="../6/">6</a><span class="space">&hellip;</span><a class="page-number" href="../12/">12</a><a class="extend next" rel="next" href="../6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">志鹏</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="../../archives/">
              
                  <span class="site-state-item-count">113</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">73</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">志鹏</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="../../js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="../../js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.3"></script>



  


  








  












  





  

  

  

  
  

  

  

  

</body>
</html>
